<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Kaip pakeisti daug failų komandinės eilutės ir perl pagalba | Sirex web log</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://sirex.lt/posts/2008/kaip-pakeisti-daug-failu-komandines-eilutes-ir-perl-pagalba/">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Sirex">
<link rel="prev" href="../po-intrepid-ibex-isleidimo-atsinaujinau-i-linux-mint/" title="Po Intrepid Ibex išleidimo atsinaujinau į Linux Mint" type="text/html">
<link rel="next" href="../it-evoliucija/" title="IT evoliucija" type="text/html">
<meta property="og:site_name" content="Sirex web log">
<meta property="og:title" content="Kaip pakeisti daug failų komandinės eilutės ir perl pagalba">
<meta property="og:url" content="https://sirex.lt/posts/2008/kaip-pakeisti-daug-failu-komandines-eilutes-ir-perl-pagalba/">
<meta property="og:description" content="Programuodamas patekau į tokią situaciją, kurioje reikėjo surasti tam tikrus
failus, kuriuose nėra aprašytas klasės parametras ir įrašytą tą trūkstamą
parametrą į klasės vidų.
Pasinaudodamas komandine">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2008-11-07T11:54:00+02:00">
<meta property="article:tag" content="perl">
<meta property="article:tag" content="shell">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
         <main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name">Kaip pakeisti daug failų komandinės eilutės ir perl pagalba</h1>
        <div class="metadata">
            <p class="dateline">
            <time class="published dt-published" datetime="2008-11-07T11:54:00+02:00" itemprop="datePublished" title="2008-11-07 11:54">2008-11-07 11:54</time>

                |
                <span itemprop="keywords" class="tags">
                    <a class="tag p-category" href="../../../tags/perl/" rel="tag">perl</a>,                    <a class="tag p-category" href="../../../tags/shell/" rel="tag">shell</a>                </span>

            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Programuodamas patekau į tokią situaciją, kurioje reikėjo surasti tam tikrus
failus, kuriuose nėra aprašytas klasės parametras ir įrašytą tą trūkstamą
parametrą į klasės vidų.</p>
<p>Pasinaudodamas komandine eilute ir nedideliu perl skriptu tai nesunkiai padariau.</p>
<p>Perl skriptas atrodo taip:</p>
<pre class="code perl"><a name="rest_code_1e729b44646843a69a499d678fb9116b-1"></a><span class="k">print</span><span class="p">;</span>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-2"></a>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-3"></a><span class="k">if</span> <span class="p">(</span><span class="sr">/^class/</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-4"></a>    <span class="k">use</span> <span class="nn">File::Basename</span><span class="p">;</span>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-5"></a>    <span class="k">my</span> <span class="nv">$layout</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="nv">$ARGV</span><span class="p">));</span>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-6"></a>    <span class="k">print</span> <span class="s">"\n   public \$layout = '$layout';\n"</span><span class="p">;</span>
<a name="rest_code_1e729b44646843a69a499d678fb9116b-7"></a><span class="p">}</span>
</pre>
<p>O komanda atrodo taip:</p>
<pre class="code bash"><a name="rest_code_d6133b0b8c9f497997bd35ad28cee458-1"></a>find -wholename <span class="s2">"*/themes/*/layouts/*/config.php"</span> <span class="se">\</span>
<a name="rest_code_d6133b0b8c9f497997bd35ad28cee458-2"></a>    <span class="p">|</span> xargs grep -L <span class="s2">"public \$layout"</span> <span class="se">\</span>
<a name="rest_code_d6133b0b8c9f497997bd35ad28cee458-3"></a>    <span class="p">|</span> <span class="k">while</span> <span class="nb">read</span> f <span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
<a name="rest_code_d6133b0b8c9f497997bd35ad28cee458-4"></a>        perl -ni /tmp/replace.pl <span class="nv">$f</span> <span class="p">;</span> <span class="se">\</span>
<a name="rest_code_d6133b0b8c9f497997bd35ad28cee458-5"></a>    <span class="k">done</span>
</pre>
<p>Naudojantis komandine eilute, labai nesunkiai galima automatizuoti įvairiausias
užduotis. Šiame pavyzdyje, vietoje to, kad keliaučiau per visus failus ir
rankomis viską keisčiau, tiesiog pasinaudojau nedidele komanda :)</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../po-intrepid-ibex-isleidimo-atsinaujinau-i-linux-mint/" rel="prev" title="Po Intrepid Ibex išleidimo atsinaujinau į Linux Mint">Previous post</a>
            </li>
            <li class="next">
                <a href="../it-evoliucija/" rel="next" title="IT evoliucija">Next post</a>
            </li>
        </ul></nav></aside><nav id="menu"><ul>
<li><a href="../../../">Index</a></li>
                <li><a href="../../">Archive</a></li>
                <li><a href="../../../tags/">Tags</a></li>
                <li><a href="../../../rss.xml">RSS feed</a></li>

    
    
    
    </ul></nav></article></main>
</div>
                <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>