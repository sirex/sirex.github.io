<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Pencijų fondai | Sirex web log</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://sirex.lt/posts/2019/penciju-fondai/">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Sirex">
<link rel="prev" href="../../2016/scoop/" title="SCOOP" type="text/html">
<link rel="next" href="../../2018/hello-asgi/" title="Hello ASGI" type="text/html">
<meta property="og:site_name" content="Sirex web log">
<meta property="og:title" content="Pencijų fondai">
<meta property="og:url" content="https://sirex.lt/posts/2019/penciju-fondai/">
<meta property="og:description" content="Duomenys imami iš Lietuvos Banko svetainės.
Fondai lyginami pagal IRR rodiklį.
IRR (internal rate of return – vidinė grąžos norma) parodo, kiek per metus
vidutiniškai paauga (procentais) kiekvienas iš">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-09-22T07:35:00+03:00">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
         <main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name">Pencijų fondai</h1>
        <div class="metadata">
            <p class="dateline">
            <time class="published dt-published" datetime="2016-09-22T07:35:00+03:00" itemprop="datePublished" title="2016-09-22 07:35">2016-09-22 07:35</time></p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Duomenys imami iš <a class="reference external" href="https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis">Lietuvos Banko svetainės</a>.</p>
<p>Fondai lyginami pagal <a class="reference external" href="https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis"><span class="caps">IRR</span> rodiklį</a>.</p>
<p><span class="caps">IRR</span> (<em>internal rate of return</em> – vidinė grąžos norma) parodo, kiek per metus
vidutiniškai paauga (procentais) kiekvienas iš atliktų <span class="caps">SODRA</span> pervedimų
(investicijų) į pensijų fondus. <span class="caps">IRR</span> atsižvelgia į visus pensijų fondų
atskaitymus bei į lėšų pervedimo laiką.</p>
<p>Palyginimui paimti duomenys 3 metų trukmės fondo veiklos laikotarpio.</p>
<!-- import os
import re
import collections
import numpy as np
import pandas as pd
import matplotlib as mpl
import requests
import bs4
import matplotlib.pyplot as plt
from IPython.display import display -->
<!-- mpl.rc('figure', figsize=(16, 10)) -->
<section id="duomenu-surinkimas-ir-valymas"><h2>Duomenų surinkimas ir valymas<a href="#duomenu-surinkimas-ir-valymas" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Lietuvos bankas, duomenis apie pensijų fondus pateikia formatu, kurį sunku
analizuoti, todėl, pirmiausia reikia susirinkti duomenis ir juos susitvarkyti,
taip, kad būtų galima atlikti duomenų analizę.</p>
<p>Pirmiausiai parsisiunčiame visus ataskaitų failus:</p>
<pre class="code ipython"><a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-1" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-1" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-1"></a><span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis'</span><span class="p">)</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-2" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-2" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-2"></a><span class="n">soap</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">'lxml'</span><span class="p">)</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-3" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-3" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-3"></a><span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">'value'</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">soap</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'select.samewin option'</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">'value'</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'#'</span><span class="p">]</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-4" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-4" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-4"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'urls'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-5" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-5" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-5"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-6" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-6" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-6"></a>        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'https://www.lb.lt/</span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
<a id="rest_code_c93bf95aee6b43afb495c96eaef8eddb-7" name="rest_code_c93bf95aee6b43afb495c96eaef8eddb-7" href="#rest_code_c93bf95aee6b43afb495c96eaef8eddb-7"></a><span class="o">!</span>wget --quiet --input-file urls
</pre>
<p>Analizei bus naudojami šių ataskaitų duomenis:</p>
<pre class="code ipython"><a id="rest_code_e1efcd94f52149e79bea8798572b8b1d-1" name="rest_code_e1efcd94f52149e79bea8798572b8b1d-1" href="#rest_code_e1efcd94f52149e79bea8798572b8b1d-1"></a><span class="o">!</span>cat urls
</pre>
<pre class="literal-block">https://www.lb.lt/irr_2016-06-30
https://www.lb.lt/irr_2016-03-31
https://www.lb.lt/irr_2015-12-31
https://www.lb.lt/irr_2015-09-30
https://www.lb.lt/irr_2015-06-30
https://www.lb.lt/irr_2015-03-31
https://www.lb.lt/irr_2014-12-31
https://www.lb.lt/irr_2014-09-30
https://www.lb.lt/irr_2014-06-30
https://www.lb.lt/irr_2014-03-31
https://www.lb.lt/irr_2013-12-31
https://www.lb.lt/irr_2013-08-31
https://www.lb.lt/irr_2013-05-31
https://www.lb.lt/irr_2012-12-31
https://www.lb.lt/irr_2012-08-31
https://www.lb.lt/irr_20120531
https://www.lb.lt/irr_20120229
https://www.lb.lt/irr_20110831
https://www.lb.lt/irr_20110331
https://www.lb.lt/irr_20110228
https://www.lb.lt/irr_20101231
https://www.lb.lt/irr_20100930
https://www.lb.lt/irr_20100331
https://www.lb.lt/irr_20091231
https://www.lb.lt/irr_20090615</pre>
<p>Išvalome ir sujungiame visus duomenų failus:</p>
<pre class="code ipython"><a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-1" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-1" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-1"></a><span class="n">sheet_names</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-2" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-2" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-2"></a>    <span class="s1">'irr_20090615'</span><span class="p">:</span> <span class="s1">'IRR'</span><span class="p">,</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-3" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-3" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-3"></a><span class="p">}</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-4" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-4" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-4"></a><span class="n">clean</span> <span class="o">=</span> <span class="p">[]</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-5" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-5" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-5"></a><span class="c1"># Atidarome visus duomenų failus</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-6" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-6" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-6"></a><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-7" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-7" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-7"></a>    <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sheetname</span><span class="o">=</span><span class="n">sheet_names</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-8" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-8" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-8"></a>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'irr_'</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-9" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-9" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-9"></a><span class="p">]</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-10" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-10" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-10"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-11" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-11" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-11"></a>    <span class="k">try</span><span class="p">:</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-12" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-12" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-12"></a>        <span class="c1"># Randame eilutę, kurioje yra 'IRR*' stulpelis.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-13" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-13" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-13"></a>        <span class="n">column_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">Index</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">itertuples</span><span class="p">()</span> <span class="k">if</span> <span class="s1">'IRR*'</span> <span class="ow">in</span> <span class="n">x</span> <span class="ow">or</span> <span class="s1">'IRR'</span> <span class="ow">in</span> <span class="n">x</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-14" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-14" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-14"></a>        <span class="c1"># Ataskaitos failo data.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-15" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-15" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-15"></a>        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">'Suskaičiuota (.+) dienai'</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-16" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-16" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-16"></a>        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-17" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-17" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-17"></a>            <span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-18" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-18" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-18"></a>        <span class="k">else</span><span class="p">:</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-19" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-19" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-19"></a>            <span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-20" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-20" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-20"></a>        <span class="c1"># Keičiame lentelės stulpelių pavadinimus į eilutę, kurioje radom 'IRR*' stulpelį.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-21" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-21" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-21"></a>        <span class="n">d</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">column_row</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-22" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-22" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-22"></a>        <span class="c1"># Konvertuojame 'IRR*' stulpelį į skaitinį tipą.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-23" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-23" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-23"></a>        <span class="n">d</span><span class="p">[</span><span class="s1">'IRR'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">'IRR*'</span><span class="p">]</span> <span class="k">if</span> <span class="s1">'IRR*'</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">else</span> <span class="n">d</span><span class="p">[</span><span class="s1">'IRR'</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-24" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-24" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-24"></a>        <span class="c1"># Pridedame naują stulpelį į lentelę su ataskaitos data.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-25" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-25" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-25"></a>        <span class="n">d</span><span class="p">[</span><span class="s1">'Data'</span><span class="p">]</span> <span class="o">=</span> <span class="n">dt</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-26" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-26" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-26"></a>        <span class="c1"># Pašaliname visas eilutes iš lentelės, kurios neturi IRR reikšmės.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-27" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-27" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-27"></a>        <span class="n">d</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">'IRR'</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-28" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-28" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-28"></a>        <span class="c1"># Kai kuriose ataskaitose nepateikiama pensijų kaupimo bendrovė</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-29" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-29" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-29"></a>        <span class="k">if</span> <span class="s1">'Pensijų kaupimo bendrovė'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-30" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-30" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-30"></a>            <span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-31" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-31" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-31"></a>            <span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">'Fondas'</span><span class="p">]</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-32" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-32" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-32"></a>        <span class="c1"># Iš lentelės pasirenkame mus dominančius stulpelius.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-33" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-33" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-33"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="p">[[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">,</span> <span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">,</span> <span class="s1">'Data'</span><span class="p">,</span> <span class="s1">'IRR'</span><span class="p">]]</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-34" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-34" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-34"></a>        <span class="c1"># Išsisaugome išvalytę lentelę.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-35" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-35" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-35"></a>        <span class="n">clean</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-36" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-36" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-36"></a>    <span class="k">except</span><span class="p">:</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-37" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-37" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-37"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-38" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-38" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-38"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-39" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-39" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-39"></a>        <span class="n">display</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-40" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-40" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-40"></a>        <span class="k">raise</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-41" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-41" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-41"></a><span class="c1"># Sujungiame visų ataskaitų lenteles į vieną lentelę.</span>
<a id="rest_code_ec2f1972f31242bb898e0299e7ac58bf-42" name="rest_code_ec2f1972f31242bb898e0299e7ac58bf-42" href="#rest_code_ec2f1972f31242bb898e0299e7ac58bf-42"></a><span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">clean</span><span class="p">)</span>
</pre>
<p>Suvienodiname pasikeitusių bendrovių ir fondų pavadinimus:</p>
<pre class="code ipython"><a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-1" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-1" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-1"></a><span class="n">renames</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-2" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-2" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-2"></a>    <span class="s1">'Danske konservatyvaus valdymo'</span><span class="p">:</span> <span class="s1">'Danske pensija'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-3" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-3" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-3"></a>    <span class="s1">'Konservatyvaus valdymo Danske pensija'</span><span class="p">:</span> <span class="s1">'Danske pensija'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-4" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-4" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-4"></a>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-5" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-5" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-5"></a>    <span class="s1">'ERGO Life Insurance SE'</span><span class="p">:</span> <span class="s1">'UAB "ERGO Lietuva gyvybės draudimas"'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-6" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-6" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-6"></a>    <span class="s1">'ERGO Balans'</span><span class="p">:</span> <span class="s1">'ERGO balans'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-7" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-7" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-7"></a>    <span class="s1">'ERGO Konservatyvusis'</span><span class="p">:</span> <span class="s1">'ERGO konservatyvusis'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-8" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-8" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-8"></a>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-9" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-9" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-9"></a>    <span class="c1"># http://www.invaldalt.com/lt/main/naujienos/Kitos_naujienos?ID=1331</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-10" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-10" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-10"></a>    <span class="s1">'UAB "Finasta Asset Management"'</span><span class="p">:</span> <span class="s1">'UAB "INVL Asset Management"'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-11" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-11" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-11"></a>    <span class="s1">'Finasta Konservatyvaus investavimo'</span><span class="p">:</span> <span class="s1">'INVL STABILO II 58+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-12" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-12" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-12"></a>    <span class="s1">'Finasta Aktyvaus investavimo'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-13" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-13" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-13"></a>    <span class="s1">'Finasta Racionalios rizikos'</span><span class="p">:</span> <span class="s1">'INVL EXTREMO II 16+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-14" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-14" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-14"></a>    <span class="s1">'Finasta Nuosaikus'</span><span class="p">:</span> <span class="s1">'INVL STABILO II 58+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-15" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-15" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-15"></a>    <span class="s1">'Finasta Augančio pajamingumo'</span><span class="p">:</span> <span class="s1">'INVL MEZZO II 53+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-16" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-16" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-16"></a>    <span class="s1">'Finasta Subalansuotas'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-17" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-17" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-17"></a>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-18" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-18" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-18"></a>    <span class="s1">'UAB "MP Pension Funds Baltic"'</span><span class="p">:</span> <span class="s1">'UAB "INVL Asset Management"'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-19" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-19" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-19"></a>    <span class="s1">'MP Stabilo II'</span><span class="p">:</span> <span class="s1">'INVL STABILO II 58+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-20" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-20" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-20"></a>    <span class="s1">'MP Medio II'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-21" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-21" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-21"></a>    <span class="s1">'MP Extremo II'</span><span class="p">:</span> <span class="s1">'INVL EXTREMO II 16+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-22" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-22" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-22"></a>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-23" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-23" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-23"></a>    <span class="s1">'Invalda Konservatyvus'</span><span class="p">:</span> <span class="s1">'INVL STABILO II 58+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-24" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-24" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-24"></a>    <span class="s1">'Invalda Nuosaikus'</span><span class="p">:</span> <span class="s1">'INVL STABILO II 58+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-25" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-25" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-25"></a>    <span class="s1">'Invalda Augančio pajamingumo'</span><span class="p">:</span> <span class="s1">'INVL MEZZO II 53+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-26" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-26" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-26"></a>    <span class="s1">'Invalda Aktyvaus investavimo'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-27" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-27" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-27"></a>    <span class="s1">'Invalda Subalansuotas'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-28" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-28" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-28"></a>    <span class="s1">'Invalda Racionalios rizikos'</span><span class="p">:</span> <span class="s1">'INVL EXTREMO II 16+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-29" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-29" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-29"></a>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-30" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-30" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-30"></a>    <span class="s1">'INVL aktyvaus investavimo'</span><span class="p">:</span> <span class="s1">'INVL MEDIO II 47+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-31" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-31" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-31"></a>    <span class="s1">'INVL racionalios rizikos'</span><span class="p">:</span> <span class="s1">'INVL EXTREMO II 16+'</span><span class="p">,</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-32" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-32" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-32"></a><span class="p">}</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-33" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-33" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-33"></a><span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-34" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-34" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-34"></a>    <span class="k">if</span> <span class="n">x</span><span class="p">:</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-35" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-35" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-35"></a>        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-36" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-36" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-36"></a>            <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-37" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-37" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-37"></a>            <span class="n">replace</span><span class="p">(</span><span class="s1">'Pensija'</span><span class="p">,</span> <span class="s1">'pensija'</span><span class="p">)</span><span class="o">.</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-38" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-38" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-38"></a>            <span class="n">replace</span><span class="p">(</span><span class="s1">'Ekstra'</span><span class="p">,</span> <span class="s1">'ekstra'</span><span class="p">)</span><span class="o">.</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-39" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-39" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-39"></a>            <span class="n">replace</span><span class="p">(</span><span class="s1">'DnB NORD'</span><span class="p">,</span> <span class="s1">'DNB'</span><span class="p">)</span><span class="o">.</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-40" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-40" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-40"></a>            <span class="n">replace</span><span class="p">(</span><span class="s1">'DnB'</span><span class="p">,</span> <span class="s1">'DNB'</span><span class="p">)</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-41" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-41" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-41"></a>        <span class="p">)</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-42" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-42" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-42"></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">renames</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-43" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-43" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-43"></a>    <span class="k">return</span> <span class="n">x</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-44" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-44" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-44"></a><span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply</span><span class="p">)</span>
<a id="rest_code_6dfbd819ab98431aa529c883c5ebb18e-45" name="rest_code_6dfbd819ab98431aa529c883c5ebb18e-45" href="#rest_code_6dfbd819ab98431aa529c883c5ebb18e-45"></a><span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">apply</span><span class="p">)</span>
</pre>
<p>Atstatome bendrovių pavadinimus, lentelėse, kuriose jie nebuvo pateikti.
Bendrovių pavadinimai atstatomi pagal fondų pavadinimus.</p>
<pre class="code ipython"><a id="rest_code_2db525c1cbf94ba796b72899852a0db7-1" name="rest_code_2db525c1cbf94ba796b72899852a0db7-1" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-1"></a><span class="n">unique</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-2" name="rest_code_2db525c1cbf94ba796b72899852a0db7-2" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-2"></a><span class="n">bendroves</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-3" name="rest_code_2db525c1cbf94ba796b72899852a0db7-3" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-3"></a>    <span class="n">x</span><span class="p">:</span> <span class="n">unique</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-4" name="rest_code_2db525c1cbf94ba796b72899852a0db7-4" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-4"></a>    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">])</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-5" name="rest_code_2db525c1cbf94ba796b72899852a0db7-5" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-5"></a><span class="p">}</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-6" name="rest_code_2db525c1cbf94ba796b72899852a0db7-6" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-6"></a><span class="n">fondai</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">bendroves</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">}</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-7" name="rest_code_2db525c1cbf94ba796b72899852a0db7-7" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-7"></a><span class="n">d</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-8" name="rest_code_2db525c1cbf94ba796b72899852a0db7-8" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-8"></a>    <span class="n">x</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-9" name="rest_code_2db525c1cbf94ba796b72899852a0db7-9" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-9"></a>    <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">]</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-10" name="rest_code_2db525c1cbf94ba796b72899852a0db7-10" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-10"></a>    <span class="k">else</span> <span class="n">fondai</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">]]</span>
<a id="rest_code_2db525c1cbf94ba796b72899852a0db7-11" name="rest_code_2db525c1cbf94ba796b72899852a0db7-11" href="#rest_code_2db525c1cbf94ba796b72899852a0db7-11"></a><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
<p>Galiausiai gauname išvalytą lenterę su duomenimis iš visų Lietuvos banko
ataskaitų, kuri tarodo taip:</p>
<pre class="code ipython"><a id="rest_code_83b2a8383fb44e52bcdf3bb522cc65aa-1" name="rest_code_83b2a8383fb44e52bcdf3bb522cc65aa-1" href="#rest_code_83b2a8383fb44e52bcdf3bb522cc65aa-1"></a><span class="n">d</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
<table>
<thead><tr>
<th class="head"><p>#</p></th>
<th class="head"><p>Pensijų kaupimo bendrovė</p></th>
<th class="head"><p>Pensijų fondo pavadinimas</p></th>
<th class="head"><p>Data</p></th>
<th class="head"><p><span class="caps">IRR</span></p></th>
</tr></thead>
<tbody>
<tr>
<td><p>4</p></td>
<td><p><span class="caps">UAGDPB</span> “<span class="caps">AVIVA</span> Lietuva”</p></td>
<td><p>Aviva Europensija</p></td>
<td><p>2014-06-30</p></td>
<td><p>0.0302</p></td>
</tr>
<tr>
<td><p>5</p></td>
<td><p><span class="caps">UAB</span> “Danske Capital investicijų valdymas”</p></td>
<td><p>Danske pensija</p></td>
<td><p>2014-06-30</p></td>
<td><p>0.0316</p></td>
</tr>
<tr>
<td><p>6</p></td>
<td><p><span class="caps">UAB</span> “<span class="caps">DNB</span> investicijų valdymas”</p></td>
<td><p><span class="caps">DNB</span> pensija 1</p></td>
<td><p>2014-06-30</p></td>
<td><p>0.0257</p></td>
</tr>
<tr>
<td><p>7</p></td>
<td><p><span class="caps">UAB</span> “<span class="caps">ERGO</span> Lietuva gyvybės draudimas”</p></td>
<td><p><span class="caps">ERGO</span> konservatyvusis</p></td>
<td><p>2014-06-30</p></td>
<td><p>0.0272</p></td>
</tr>
<tr>
<td><p>8</p></td>
<td><p><span class="caps">UAB</span> “<span class="caps">INVL</span> Asset Management”</p></td>
<td><p><span class="caps">INVL</span> <span class="caps">STABILO</span> <span class="caps">II</span> 58+</p></td>
<td><p>2014-06-30</p></td>
<td><p>0.0507</p></td>
</tr>
</tbody>
</table>
<p>Transformuojame lentelę į tokį pavidalą, kuris leidžia palyginti <span class="caps">IRR</span> įvairiais pjūviais.</p>
<pre class="code ipython"><a id="rest_code_403e986d2c8744efb0a40b38d77d2b1f-1" name="rest_code_403e986d2c8744efb0a40b38d77d2b1f-1" href="#rest_code_403e986d2c8744efb0a40b38d77d2b1f-1"></a><span class="n">pivot</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">'Data'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'IRR'</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
<a id="rest_code_403e986d2c8744efb0a40b38d77d2b1f-2" name="rest_code_403e986d2c8744efb0a40b38d77d2b1f-2" href="#rest_code_403e986d2c8744efb0a40b38d77d2b1f-2"></a>    <span class="s1">'Pensijų kaupimo bendrovė'</span><span class="p">,</span>
<a id="rest_code_403e986d2c8744efb0a40b38d77d2b1f-3" name="rest_code_403e986d2c8744efb0a40b38d77d2b1f-3" href="#rest_code_403e986d2c8744efb0a40b38d77d2b1f-3"></a>    <span class="s1">'Pensijų fondo pavadinimas'</span><span class="p">,</span>
<a id="rest_code_403e986d2c8744efb0a40b38d77d2b1f-4" name="rest_code_403e986d2c8744efb0a40b38d77d2b1f-4" href="#rest_code_403e986d2c8744efb0a40b38d77d2b1f-4"></a><span class="p">])</span>
<a id="rest_code_403e986d2c8744efb0a40b38d77d2b1f-5" name="rest_code_403e986d2c8744efb0a40b38d77d2b1f-5" href="#rest_code_403e986d2c8744efb0a40b38d77d2b1f-5"></a><span class="n">pivot</span><span class="o">.</span><span class="n">ix</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">6</span><span class="p">]</span>
</pre>
<table>
<thead>
<tr>
<th class="head"><p>Pensijų kaupimo bendrovė</p></th>
<th class="head" colspan="2"><p><span class="caps">UAB</span> “Citadele investicijų valdymas”</p></th>
<th class="head" colspan="4"><p><span class="caps">UAB</span> “<span class="caps">DNB</span> investicijų valdymas”</p></th>
</tr>
<tr>
<th class="head"><p>Pensijų fondo pavadinimas</p></th>
<th class="head"><p>Citadele pensija 1</p></th>
<th class="head"><p>Citadele pensija 2</p></th>
<th class="head"><p><span class="caps">DNB</span> pensija 1</p></th>
<th class="head"><p><span class="caps">DNB</span> pensija 2</p></th>
<th class="head"><p><span class="caps">DNB</span> pensija 3</p></th>
<th class="head"><p><span class="caps">ERGO</span> balans</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Data</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr>
<td><p>2009-06-15</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>0.019374</p></td>
<td><p>0.001624</p></td>
<td><p>-0.020811</p></td>
<td><p>NaN</p></td>
</tr>
<tr>
<td><p>2009-12-31</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>0.076045</p></td>
<td><p>0.161496</p></td>
<td><p>0.219199</p></td>
<td><p>NaN</p></td>
</tr>
<tr>
<td><p>2010-03-31</p></td>
<td><p>NaN</p></td>
<td><p>NaN</p></td>
<td><p>0.034633</p></td>
<td><p>0.041592</p></td>
<td><p>0.041157</p></td>
<td><p>NaN</p></td>
</tr>
</tbody>
</table></section><section id="pensiju-kaupimo-bendroviu-palyginimas"><h2>Pensijų kaupimo bendrovių palyginimas<a href="#pensiju-kaupimo-bendroviu-palyginimas" class="headerlink" title="Permalink to this heading">¶</a></h2>
<section id="visu-bendroviu-visu-fondu-vidutinis-irr"><h3>Visų bendrovių, visų fondų vidutinis <span class="caps">IRR</span><a href="#visu-bendroviu-visu-fondu-vidutinis-irr" class="headerlink" title="Permalink to this heading">¶</a></h3>
<pre class="code ipython"><a id="rest_code_fc8cd24541a941ae960ff3208eef3a0a-1" name="rest_code_fc8cd24541a941ae960ff3208eef3a0a-1" href="#rest_code_fc8cd24541a941ae960ff3208eef3a0a-1"></a><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<a id="rest_code_fc8cd24541a941ae960ff3208eef3a0a-2" name="rest_code_fc8cd24541a941ae960ff3208eef3a0a-2" href="#rest_code_fc8cd24541a941ae960ff3208eef3a0a-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pivot</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">pivot</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<a id="rest_code_fc8cd24541a941ae960ff3208eef3a0a-3" name="rest_code_fc8cd24541a941ae960ff3208eef3a0a-3" href="#rest_code_fc8cd24541a941ae960ff3208eef3a0a-3"></a><span class="n">frame</span> <span class="o">=</span> <span class="n">pivot</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<a id="rest_code_fc8cd24541a941ae960ff3208eef3a0a-4" name="rest_code_fc8cd24541a941ae960ff3208eef3a0a-4" href="#rest_code_fc8cd24541a941ae960ff3208eef3a0a-4"></a><span class="n">frame</span><span class="p">[</span><span class="n">frame</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s1">'jet'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">ax</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="rest_code_fc8cd24541a941ae960ff3208eef3a0a-5" name="rest_code_fc8cd24541a941ae960ff3208eef3a0a-5" href="#rest_code_fc8cd24541a941ae960ff3208eef3a0a-5"></a><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'IRR'</span><span class="p">)</span>
</pre>
<a class="reference external image-reference" href="../../../images/2019/pensiju-fondai/vidutinis-irr.png"><img alt="Visų bendrovių, visų fondų vidutinis IRR" class="whitebg" src="../../../images/2019/pensiju-fondai/vidutinis-irr.thumbnail.png"></a>
</section><section id="kievienos-bendroves-fondu-palyginimas"><h3>Kievienos bendrovės fondų palyginimas<a href="#kievienos-bendroves-fondu-palyginimas" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Žemiau pateikiamas sąrašas grafikų, kuriuose pavaizduoti kiekvienos bendrovės
fondų <span class="caps">IRR</span> rodikliai, laike. Šviesiai pilkas fonas rodo geriausių ir blogiausių
fondų <span class="caps">IRR</span> ribas, o tamsiai pilkas fonas parodo visų fondų vidurkio standartinio
nuokrypio ribas.</p>
<pre class="code ipython"><a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-1" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-1" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-1"></a><span class="n">names</span> <span class="o">=</span> <span class="n">pivot</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-2" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-2" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-2"></a><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)))</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-3" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-3" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-3"></a><span class="n">mean</span><span class="p">,</span> <span class="n">std</span> <span class="o">=</span> <span class="n">pivot</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">pivot</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-4" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-4" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-4"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-5" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-5" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-5"></a>    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pivot</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">pivot</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-6" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-6" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-6"></a>    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">mean</span><span class="o">-</span><span class="n">std</span><span class="p">,</span> <span class="n">mean</span><span class="o">+</span><span class="n">std</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-7" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-7" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-7"></a>    <span class="n">pivot</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-8" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-8" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-8"></a>    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'IRR'</span><span class="p">)</span>
<a id="rest_code_4d35b248a50e4a5cb6483c0b1424d839-9" name="rest_code_4d35b248a50e4a5cb6483c0b1424d839-9" href="#rest_code_4d35b248a50e4a5cb6483c0b1424d839-9"></a>    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre>
<a class="reference external image-reference" href="../../../images/2019/pensiju-fondai/fondai.png"><img alt="Kievienos bendrovės fondų palyginimas" class="whitebg" src="../../../images/2019/pensiju-fondai/fondai.thumbnail.png"></a>
</section><section id="visu-fondu-irr-rodiklio-vidurkis"><h3>Visų fondų <span class="caps">IRR</span> rodiklio vidurkis<a href="#visu-fondu-irr-rodiklio-vidurkis" class="headerlink" title="Permalink to this heading">¶</a></h3>
<pre class="code ipython"><a id="rest_code_4e12d317e0b3437a8d9dc89112ff5bb0-1" name="rest_code_4e12d317e0b3437a8d9dc89112ff5bb0-1" href="#rest_code_4e12d317e0b3437a8d9dc89112ff5bb0-1"></a><span class="n">pivot</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</pre>
<a class="reference external image-reference" href="../../../images/2019/pensiju-fondai/irr-vidurkis.png"><img alt="Visų fondų IRR rodiklio vidurkis" class="whitebg" src="../../../images/2019/pensiju-fondai/irr-vidurkis.thumbnail.png"></a>
</section></section>
</div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../../2016/scoop/" rel="prev" title="SCOOP">Previous post</a>
            </li>
            <li class="next">
                <a href="../../2018/hello-asgi/" rel="next" title="Hello ASGI">Next post</a>
            </li>
        </ul></nav></aside><nav id="menu"><ul>
<li><a href="../../../">Index</a></li>
                <li><a href="../../">Archive</a></li>
                <li><a href="../../../tags/">Tags</a></li>
                <li><a href="../../../rss.xml"><span class="caps">RSS</span> feed</a></li>

    
    
    
    </ul></nav></article></main>
</div>
                <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-N9F34JEJNF"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-N9F34JEJNF');
</script>
</body>
</html>