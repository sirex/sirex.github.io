<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Python paketai | Sirex web log</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://sirex.lt/posts/2011/pypi/">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Sirex">
<link rel="prev" href="../radio-stociu-surinkimas-i-audacious/" title="Radio stočių surinkimas į audacious" type="text/html">
<link rel="next" href="../zsh-tips/" title="ZSH Tips" type="text/html">
<meta property="og:site_name" content="Sirex web log">
<meta property="og:title" content="Python paketai">
<meta property="og:url" content="https://sirex.lt/posts/2011/pypi/">
<meta property="og:description" content="Paketo kūrimas
Mano Python paketus dažniausiai sudaro tokie failai:

setup.py
Pagrindinis paketo failas, kuriame aprašoma paketo meta informacija. Šio
failo turinys atrodo taip:
from distutils.core im">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2011-08-25T00:00:00+03:00">
<meta property="article:tag" content="python">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
         <main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name">Python paketai</h1>
        <div class="metadata">
            <p class="dateline">
            <time class="published dt-published" datetime="2011-08-25T00:00:00+03:00" itemprop="datePublished" title="2011-08-25 00:00">2011-08-25 00:00</time>

                |
                <span itemprop="keywords" class="tags">
                    <a class="tag p-category" href="../../../tags/python/" rel="tag">python</a>                </span>

            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="section" id="paketo-kurimas">
<h2>Paketo kūrimas<a href="#paketo-kurimas" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Mano Python paketus dažniausiai sudaro tokie failai:</p>
<dl>
<dt><code class="docutils literal">setup.py</code></dt>
<dd>
<p>Pagrindinis paketo failas, kuriame aprašoma paketo meta informacija. Šio
failo turinys atrodo taip:</p>
<pre class="code python"><a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-1"></a><span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-2"></a>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-3"></a><span class="n">setup</span><span class="p">(</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-4"></a>    <span class="n">name</span><span class="o">=</span><span class="s1">'mypkgname'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-5"></a>    <span class="n">version</span><span class="o">=</span><span class="s1">'0.1'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-6"></a>    <span class="n">author</span><span class="o">=</span><span class="s1">'My Name'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-7"></a>    <span class="n">author_email</span><span class="o">=</span><span class="s1">'my at mail.com'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-8"></a>    <span class="n">py_modules</span><span class="o">=</span><span class="p">[</span><span class="s1">'pkgmodule'</span><span class="p">],</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-9"></a>    <span class="n">url</span><span class="o">=</span><span class="s1">'pkgurl'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-10"></a>    <span class="n">license</span><span class="o">=</span><span class="s1">'gpl.txt'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-11"></a>    <span class="n">description</span><span class="o">=</span><span class="s1">'pkg description'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-12"></a>    <span class="n">long_description</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">'README.rst'</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-13"></a>    <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-14"></a>        <span class="s1">'Development Status :: 5 - Production/Stable'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-15"></a>        <span class="s1">'License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-16"></a>        <span class="s1">'Programming Language :: Python :: 3'</span><span class="p">,</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-17"></a>    <span class="p">]</span>
<a name="rest_code_114dcb4cfe334728a8532d88eba3fdea-18"></a><span class="p">)</span>
</pre>
</dd>
<dt><code class="docutils literal">MANIFEST.in</code></dt>
<dd>
<p>Failas, kuriame nurodoma, kurie failai turi būti įtraukti į paketą. Pavyzdys:</p>
<pre class="literal-block">include *.txt
include *.rst
include Makefile
recursive-include src</pre>
</dd>
<dt><code class="docutils literal">Makefile</code></dt>
<dd>
<p>Failas, kuris paruošia aplinką darbui su šiuo paketu. Šis failas nieko
bendro su Python paketais neturi, tačiau naudinga jį turėti.</p>
</dd>
<dt><code class="docutils literal">README.rst</code></dt>
<dd>
<p>Išsamus aprašymas kaip paketas veikia, kam jis skirtas ir kaip juo naudotis.</p>
</dd>
<dt><code class="docutils literal">gpl.txt</code></dt>
<dd>
<p>Licencijos failas. Pagal nutylėjimą, daugelio šalių įstatymai draudžia
naudoti bet kokį autorinį kūrinį, jei nenurodyta, kaip ir kas galį kūrinį
naudoti. Todėl, jei norite, kad kas nors galėtų pasinaudoti jūsų paketu,
turite nurodyti jo naudojimo sąlygas.</p>
<p>Teisiškai galiojančias naudojimo sąlygas aprašyti yra gan sudėtinga, todėl
saugiausias pasirinkimas <a class="reference external" href="http://www.gnu.org/licenses/gpl.html">GPL</a> licencija.</p>
</dd>
</dl>
</div>
<div class="section" id="paketo-kelimas-i-pypi">
<h2>Paketo kėlimas į PyPI<a href="#paketo-kelimas-i-pypi" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Kad užregistruotumėte savo Python paketą į <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a> paketų repozitoriją, atlikite
šiuose veiksmus:</p>
<ol class="arabic">
<li>
<p>Užregistruokite naujo paketo (arba naujos seno paketo versijos) meta
duomenis, aprašytus <code class="docutils literal">setup.py</code> faile:</p>
<pre class="literal-block">python setup.py register -r pypi</pre>
<p><code class="docutils literal"><span class="pre">-r</span> pypi</code> reikia nurodyti tik tuo atveju, jei naudojate <code class="docutils literal"><span class="pre">~/.pypirc</span></code>
failą. Jei turite šį failą, tuomet <code class="docutils literal">pypi</code> nurodo konfigūracijos sekciją,
tame faile (<code class="docutils literal">[pypi]</code>).</p>
</li>
<li>
<p>Įkelkite išeities teksto paketą į <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a>:</p>
<pre class="literal-block">python setup.py sdist upload</pre>
</li>
<li>
<p>Jei jūsų paketas turi dokumentaciją, įkelkite atnaujintą dokumentacijos versiją:</p>
<pre class="literal-block">python setup.py build_sphinx upload_sphinx</pre>
</li>
</ol>
</div>
<div class="section" id="pypi-per-ssh">
<h2>PyPI per SSH<a href="#pypi-per-ssh" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p>Rekomenduoju naudoti <a class="reference external" href="http://pypi.python.org/pypi/pypissh">pypissh</a> paketą, kuris leidžia susisiekti su <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a>
serveriu per ssh, naudojant <a class="reference external" href="../../../ssh-pamokeles.html">ssh raktus</a>. Tokiu būdu nereikia atviru tekstu,
konfigūraciniuose failuose saugoti <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a> slaptažodžio ir nereikia kiekvieną
kartą įvedinėti slaptažodžio.</p>
<ol class="arabic">
<li>
<p><code class="docutils literal">pypissh</code> paketą siūlau įsidiegti į kokį nors izoliuotą <a class="reference external" href="http://www.virtualenv.org/">virtualenvą</a>, nes
jis <a class="reference external" href="http://en.wikipedia.org/wiki/Monkey_patch">mokeypatchina</a> Python <a class="reference external" href="http://docs.python.org/distutils/">distutils</a> paketą, kas gal būt gali sukelti kokių
nors problemų į diegus į sistemą. <code class="docutils literal">pypissh</code> įdiegsite taip:</p>
<pre class="literal-block">pip -E /tmp/pypissh-env install pypissh
source /tmp/pypissh-env/bin/activate</pre>
</li>
<li><p>Įkelkite savo ssh raktą į <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a>, naudotojo profilio <a class="reference external" href="http://pypi.python.org/pypi?%3Aaction=user_form">nustatymuose</a>.</p></li>
<li>
<p>Toliau reikia susikurti <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a> konfigūracinė falą <code class="docutils literal"><span class="pre">~/.pypirc</span></code>, kurio
turinys atrodo taip:</p>
<pre class="code ini"><a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-1"></a><span class="k">[distutils]</span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-2"></a><span class="na">index-servers</span> <span class="o">=</span><span class="s"></span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-3"></a><span class="s">    pypi</span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-4"></a>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-5"></a><span class="k">[pypi]</span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-6"></a><span class="na">repository: httpssh://submit@ssh.pypi.python.org/pypi</span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-7"></a><span class="na">username: yourusername</span>
<a name="rest_code_cd031d992fb84daba9a2c329a80a5e6a-8"></a><span class="na">password: pypissh</span>
</pre>
<p>Nepamirškite <code class="docutils literal">yourusername</code> pakeisti į savo <a class="reference external" href="http://pypi.python.org/pypi">PyPI</a> naudotojo vardą,
slaptažodis gali būti bet, koks (svarbu, ne tuščias). Jei slaptažodis nebus
nurodytas, tada prašys jį įvesti.</p>
</li>
</ol>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../radio-stociu-surinkimas-i-audacious/" rel="prev" title="Radio stočių surinkimas į audacious">Previous post</a>
            </li>
            <li class="next">
                <a href="../zsh-tips/" rel="next" title="ZSH Tips">Next post</a>
            </li>
        </ul></nav></aside><nav id="menu"><ul>
<li><a href="../../../">Index</a></li>
                <li><a href="../../">Archive</a></li>
                <li><a href="../../../tags/">Tags</a></li>
                <li><a href="../../../rss.xml">RSS feed</a></li>

    
    
    
    </ul></nav></article></main>
</div>
                <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>