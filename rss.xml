<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Sirex web log</title><link>https://sirex.lt/</link><description>Tech blog about open data, programming, linux, python, vim and etc...</description><atom:link href="https://sirex.lt/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2020 &lt;a href="mailto:sirexas@gmail.com"&gt;Sirex&lt;/a&gt; </copyright><lastBuildDate>Mon, 02 Nov 2020 09:31:28 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Duomenų atvėrimo vyriausiasis specialistas</title><link>https://sirex.lt/posts/2020/duomenu-atverimo-vyriausiasis-specialistas/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;div class="admonition admonition-ispejimas"&gt;
&lt;p class="admonition-title"&gt;Įspėjimas&lt;/p&gt;
&lt;p&gt;Visa mano asmeniniame bloge pateikta nuomonė yra mano asmeninė subjektyvi
nuomonė, o ne oficiali IVPK pozicija.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Šią savaitę, nuo pirmadienio, pradėjau dirbti IVPK &lt;a class="reference external" href="https://ivpk.lrv.lt/lt/struktura-ir-kontaktai/kontaktai-1"&gt;Skaitmeninės aplinkos
skyriaus&lt;/a&gt; duomenų atvėrimo vyriausiuoju specialistu.&lt;/p&gt;
&lt;div class="admonition admonition-pastebejimas"&gt;
&lt;p class="admonition-title"&gt;Pastebėjimas&lt;/p&gt;
&lt;p&gt;IVPK svetainėje, kontaktų puslapyje nėra galimybės gauti tiesioginę nuorodą
į konkretų skyrių. Nepatogu. Ta pati problema yra ne tik kontaktų puslapyje,
bet ir kituose puslapiuose, kuriuose naudojami suskleidžiamieji sąrašai.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Su atvirais duomenimis ir kartu su IVPK jau dirbu gan seniai. Šią vasarą IVPK
nusprendė papildyti atvirų duomenų komandą naujais žmonėmis ir paskelbė, kad
ieško &lt;em&gt;duomenų atvėrimo vyriausiojo specialisto&lt;/em&gt;. Ilgai negalvojęs nusprendžiau
pretenduoti į šią poziciją, kadangi ir taip labai daug laiko skiriu atviriems
duomenimis, o čia dar ir pinigų kažkiek už tai gausiu. Aišku atlyginimas
valstybinėje įstaigoje daugiau nei du kartus mažesnis lyginant su programuotojų
rinkos atlyginimais, bet šiuo atveju man labiau įdomus pats projektas.&lt;/p&gt;
&lt;p&gt;Ši darbo vieta yra terminuota ir termino pabaiga sutampa su atvirų duomenų II
etapo projekto pabaiga 2023-08-31. Na bet manau, kad trys metai yra pakankamai
daug laiko ir per tiek laiko galima gan daug pasistūmėti su atvirais duomenimis.
Ypač dirbant prie to pilną darbo dieną ir skiriant didžiąją dalį laisvalaikio,
ką dariau iki šiol.&lt;/p&gt;
&lt;p&gt;Mano pagrindinis darbas bus duomenų atvėrimo proceso priežiūra. T.y. turėsiu
užtikrinti, kad duomenys būtų atverti kokybiškai, būtų laikomasi vieningų
standartų ir pan.&lt;/p&gt;
&lt;p&gt;Pirmoji mano užduotis yra techninės specifikacijos paruošimas II etapo viešajam
pirkimui. Deja viešuosiuose pirkimuose negalima aiškiai ir konkrečiai įvardinti
technologijų ar priemonių kurių reikia. Vietoj to, tenka aprašyti ką įrankis
turi daryti.&lt;/p&gt;
&lt;p&gt;Antroji užduotis viešųjų pirkimų tarnybos (VPT) duomenų atvėrimas. VPT duomenis
jau praktiškai esu atvėręs, tačiau liko dar keletas klaidų, kurias reikia
pataisyti prieš publikuojant duomenis.&lt;/p&gt;
&lt;p&gt;Kadangi dabar dirbu už mokesčių mokėtojų pinigus, tai jaučiu atsakomybę
atsiskaityti už tai, kaip naudojami mokesčių mokėtojų pinigai. Todėl stengsiuosi
rašyti savo bloge apie tai, ką darau. Tikiuosi IVPK vadovybė mano viešų
ataskaitų labai necenzūruos.&lt;/p&gt;
&lt;div class="section" id="ii-duomenu-atverimo-etapas"&gt;
&lt;h2&gt;II duomenų atvėrimo etapas&lt;/h2&gt;
&lt;p&gt;Prieš daugiau nei metus laiko prasidėjo &lt;a class="reference external" href="https://sirex.lt/posts/2019/paskelbtas-atviru-duomenu-portalo-viesasis-pirkimas/"&gt;pirmasis duomenų atvėrimo etapas&lt;/a&gt;, kuris jau yra
baigtas. Pirmo etapo rezultatas, paleistas &lt;a class="reference external" href="https://data.gov.lt/"&gt;data.gov.lt&lt;/a&gt; atvirų duomenų
katalogas &lt;a class="reference external" href="https://ckan.org/"&gt;CKAN&lt;/a&gt; pagrindu ir atverti 5 įstaigų duomenys, viso 300 duomenų
rinkinių. Pats katalogas nėra skirtas duomenų saugojimui, nors galima įkelti
ir nedidelės apimties duomenis. Kataloge pateikiama informacija apie duomenų
rinkinius ir nuorodos į duomenų šaltinius.&lt;/p&gt;
&lt;p&gt;Jei atsimenat, gal prieš metus laiko buvo pradėta ruoštis antrajam etapui,
kur kartu su IVPK ir EIMIN organizavom &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/-/issues"&gt;apklausą&lt;/a&gt; dėl duomenų poreikio.
Remiantis šia apklausa buvo sudarytas 50 įstaigų sąrašas, kurių duomenis
planuojama atverti antrajame etape.&lt;/p&gt;
&lt;p&gt;Pats antrasis etapas jau įgauna pagreitį, mano naujieji kolegos aktyviai rengia
sutartis su įstaigomis kurios atversi duomenis, ofise toks jausmas kaip
skambučių centre. Įstaigos dažnai skambina, konsultuojasi ir ruošiasi duomenų
atvėrimui.&lt;/p&gt;
&lt;p&gt;Iš esmės valstybinių įstaigų duomenų atvėrimas nėra techninė problema, didele
dalimi tai yra žmonių problema. Kadangi duomenų atvėrime dalyvauja daug
įstaigų, tose įstaigose dirba daug žmonių, visi žmonės turi (arba neturi)
skirtingą supratimą apie atvirus duomenis. Biurokratinis aparatas taip pat
apsunkina reikalus, kadangi kiekvienas pajudėjimas turi turėti finansavimą,
teisinį pagrindą ir pan.&lt;/p&gt;
&lt;p&gt;Kiek žinau, visam antram etapui bus skirta apie 2.5 mln €. Visi šie pinigai bus
paskirstyti institucijų duomenų atvėrimui, institucijoms ir joms talkinantiems
paslaugų tiekėjams, institucijų darbuotojų mokymams ir nedidelė dalis - Atvirų
duomenų katalogui tobulinti. Finansai įstaigoms skiriami pagal atveriamų duomenų
kiekį ir reikalingų atlikti veiklų apimtį, nuo kelių šimtų iki keliasdešimt
tūkstančių €. Manau skiriami finansai pakankamai neblogi ir duomenims atverti
turėtų užtekti. Ne šiaip sau CSV failus eksportuoti, bet atverti duomenis aukštu
brandos lygiu.&lt;/p&gt;
&lt;p&gt;Vienintelė problema, kad visoje Lietuvoje valstybinių įstaigų yra apie 4000.
Tai antrasis etapas dengia vos 1.25% viso valstybinio sektoriaus. Na bet
žinoma, svarbu ne tik kiekybė, bet ir kokybė.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kokiu-istaigu-duomenys-bus-atverti"&gt;
&lt;h2&gt;Kokių įstaigų duomenys bus atverti?&lt;/h2&gt;
&lt;p&gt;Kaip ir minėjau, viso bus atverta 50 įstaigų duomenys. Įstaigos bus skirstomos į
tokias tris kategorijas:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Atveriančios savo jėgomis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Atveriančios savarankiškai per pasirinktą tiekėją.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Atveriančios per IVPK centralizuotą pirkimą.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Skirtingos įstaigos, turi skirtingus IT pajėgumus, todėl ir skirtingai atveria
duomenis.&lt;/p&gt;
&lt;p&gt;Pilnas įstaigų sąrašas, kurių duomenis planuojama atverti yra toks:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Aplinkos apsaugos agentūra&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Aplinkos apsaugos departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Aplinkos ministerija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Audito, apskaitos, turto vertinimo ir nemokumo valdymo tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Automobilių kelių direkcija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bendrasis pagalbos centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Finansų ministerija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GIS-Centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Geologijos tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hidrometeorologijos tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Higienos institutas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Informacinės visuomenės plėtros komitetas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Informatikos ir ryšių departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kalėjimų departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Migracijos departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mokslo, inovacijų ir technologijų agentūra&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Muitinės departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Muitinės informacinių sistemų centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinis transplantacijos biuras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinis vėžio institutas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinė teismų administracija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinė žemės tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Narkotikų, tabako ir alkoholio kontrolės departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Neįgalumo ir darbingumo nustatymo tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Policijos departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Radiacinės saugos centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Registrų centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Regitra&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Statistikos departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Statybos produkcijos sertifikavimo centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Transporto saugos administracija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Užkrečiamųjų ligų ir AIDS centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinio socialinio draudimo fondo valdyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė akreditavimo sveikatos priežiūros veiklai tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė kultūros paveldo komisija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė ligonių kasa&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė maisto ir veterinarijos tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė miškų tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė mokesčių inspekcija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė saugomų teritorijų tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybės garantuojamos teisinės pagalbos tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybės kontrolė&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybės tarnybos departamentas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vilniaus universiteto ligoninė Santaros klinikos&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vyriausioji rinkimų komisija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ryšių reguliavimo tarnyba&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Socialinės apsaugos ir darbo ministerija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Užsienio reikalų ministerija&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinis patentų biuras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vidaus reikalų ministerija&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Manau sutiksite, kad sąrašas yra pakankamai solidus.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="atviru-duomenu-komanda"&gt;
&lt;h2&gt;Atvirų duomenų komanda&lt;/h2&gt;
&lt;p&gt;Komandoje atsakingoje už duomenų atvėrimo organizavimą dirba 5 žmonės. Projekto
vadovas, trys žmonės atsakingi už projekto administravimo dalį ir vienas žmogus
atsakingas už techninės dalies priežiūra.&lt;/p&gt;
&lt;p&gt;IVPK atvirų duomenų komandos pagrindinė paskirtis, pačio projekto priežiūra, o
ne duomenų atvėrimas. Duomenų atvėrimą darys pačios įstaigos arba įstaigoms
duomenis atvers viešąjį pirkimą laimėję tiekėjai.&lt;/p&gt;
&lt;p&gt;Kadangi pirkimas didelis, tai jis bus suskaidytas į dalis, dalių bus tiek kiek
duomenis atveriančių įstaigų. Tai reiškia, kad kiekvieną dalį gali laimėti
skirtingas tiekėjas, bet gali visas dalis laimėti ir vienas tiekėjas. Gali būti
visaip.&lt;/p&gt;
&lt;p&gt;Pirmame etape, atveriant 5 įstaigų duomenis, viešąjį pirkimą laimėjo 4 įmonių
grupė iš kurių viena kūrė duomenų katalogą, kitos trys atvėrė duomenis.&lt;/p&gt;
&lt;p&gt;Tiekėjai dažniausiai yra suinteresuoti už kuo didesnę sumą pinigų padaryti kuo
mažiau darbo. Tai yra visai normalu, nes tiekėjai yra verslo įmonės siekiančios
gauti pelną.&lt;/p&gt;
&lt;p&gt;Todėl visos komandos pagrindinis tikslas padaryti atvirkščiai, kad tiekėjai už
kuo mažesnę pinigų sumą padaryti kiek įmanoma daugiau darbo. Ką noriu pasakyti,
kad paprasčiausias CSV failų eksportas nepraeis. Tiekėjams reikės įdėti daugiau
pastangų.&lt;/p&gt;
&lt;p&gt;Tikiuosi galutiniame rezultate gausis geras balansas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mano-vizija"&gt;
&lt;h2&gt;Mano vizija&lt;/h2&gt;
&lt;p&gt;Į įvairias atvirų duomenų veiklas esu įsitraukęs kažkur nuo 2012 metų. Per tiek
laiko teko pamatyti gan daug. Per visą šį laiką turiu pakankamai aiškų matymą,
kaip organizuoti duomenų atvėrimą, kad su mažiausiomis sąnaudomis būtų pasiektas
didžiausias rezultatas.&lt;/p&gt;
&lt;p&gt;Bandžiau įvairius variantus. Kažkuriuo metu buvau labai susižavėjęs &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Linked_data"&gt;Linked
Data&lt;/a&gt;, daug apie tai skaičiau, domėjausi ir galiausiai pradėjau advokatauti ir
siūlyti įstaigoms, kad tai yra teisingiausias variantas atveriant duomenis. Bet
šis variantas nepasiteisino, nes &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Linked_data"&gt;Linked Data&lt;/a&gt; yra gan sudėtingas ir mažai
žinomas dalykas. Bandant apie tai kalbėti su ne techniniais žmonėmis, likdavau
absoliučiai nesuprastas, bet net ir kalbant apie tai su techniniais žmonėmis
sulaukdavau neigiamos reakcijos, nes paprasčiausiai mažai kas yra apie tai
girdėję.&lt;/p&gt;
&lt;p&gt;Toliau bandžiau kiek įmanoma supaprastinti Linked Data principus, išreiškiant
juos per visiems gerai žinomą reliacinį duomenų modelį, tačiau išlaikant
esminius metaduomenis, kad duomenys lengvai konvertuotųsi į Linked Data. Duomenų
struktūroms aprašyti pasidariau nesudėtingą schemą, o patiems aprašams
pasirinkau YAML formatą. Tačiau ir tai nepasiteisino, nes vis dar buvo per daug
sudėtinga.&lt;/p&gt;
&lt;p&gt;Galiausiai priėjau išvados, kad visi labai gerai supranta ir moka naudotis
skaičiuoklėmis (Excel ir pan.). Tada visą tą duomenų struktūros aprašų idėją
perkėliau iš YAML failų į vieną gan nedidelę lentelę. Ir taip pagaliau pavyko
pasiekti, kad žmonės tai suprastu. Vis tik toje lentelėje yra užkoduota labai
daug logikos, bet bent jau esminiai principai daugumai yra gan aiškūs.&lt;/p&gt;
&lt;p&gt;Tokios duomenų struktūros aprašo lentelės idėja kilo kažkur prieš du metus, per
tą laiką lentelė nemažai keitėsi, kol galiausiai pavyko ištobulinti gan gerai
veikiantį variantą, kuris su gan nedideliu metaduomenų praradimu konvertuojasi
atgal į YAML failus ir į Linked Data, leidžia aprašyti įvairių duomenų
šaltinių struktūrą.&lt;/p&gt;
&lt;p&gt;Tokia struktūros aprašo lentelė yra visos mano idėjos pagrindas. Per paskutinius
du metus įgyvendinau &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/spinta/"&gt;atvirų duomenų automatizuoto atvėrimo priemonę&lt;/a&gt;, kurią
praktiškai išbandžiau su VPT, LRS ir VRK duomenimis. Kurdamas tokią priemonę
išbandžiau duomenų struktūros aprašų lentelę praktiškai su įvairiais duomenų
šaltiniais.&lt;/p&gt;
&lt;p&gt;Įstaigoms atveriančioms duomenis užtenka parengti tik duomenų struktūros aprašą
(vieną Excel lentelę). O toliau visas duomenų atvėrimas pilnai automatizuojamas.
Ne gana to, struktūros aprašas leidžia automatiškai generuoti API atvertiems
duomenims, leidžia atvertus duomenis publikuoti įvairiais formatais įskaitant ir
RDF, išlaikomi ryšiai tarp objektų, galimos įvairios duomenų modelio
transformacijos, duomenų normalizacija ir pan.&lt;/p&gt;
&lt;p&gt;Tokiu būdu atskiriamas pats duomenų atvėrimas, kuriam užtenka tik parengti
šaltinio duomenų struktūros aprašą, nuo automatizuotos priemonės, kuri gali būti
naudojama visose įstaigose atveriančiose duomenis. Tai turėtų maksimaliai
optimizuoti duomenų atvėrimo darbus.&lt;/p&gt;
&lt;p&gt;Kaip visa tai veikia esu gan išsamiai &lt;a class="reference external" href="https://atviriduomenys.readthedocs.io/lt/latest/"&gt;dokumentavęs&lt;/a&gt;. Analogiško duomenų
struktūros aprašo specifikacija yra paskelbta IVPK &lt;a class="reference external" href="https://data.gov.lt/opening/learningmaterial/6"&gt;atvirų duomenų kataloge&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ir galiausiai viso to pagrindu rengiu techninę specifikaciją tiekėjams, kurie
atvers duomenis.&lt;/p&gt;
&lt;p&gt;Planuoju daryti keletą nuotolinių vaizdo dirbtuvių, kurių metu žodžiu bandysiu
paaiškinti, kaip rengti duomenų struktūros aprašus, atsakysiu į iškilusius
klausimus. Tikiuosi tokia komunikacija padės visoms duomenų atvėrime
dalyvaujančioms šalims geriau susikalbėti.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><guid>https://sirex.lt/posts/2020/duomenu-atverimo-vyriausiasis-specialistas/</guid><pubDate>Sun, 25 Oct 2020 17:33:26 GMT</pubDate></item><item><title>Test one thing in one test function</title><link>https://sirex.lt/posts/2019/test-one-thing-in-one-test-function/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;When writing tests, we usually want to test multiple things in one test
function. We do that, because this way we need to write less. For example:&lt;/p&gt;
&lt;!-- run: env/bin/py.test -vvx - -color=yes %s --&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pytest&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sqlite3&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-4"&gt;&lt;/a&gt;&lt;span class="nd"&gt;@pytest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fixture&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;db&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-6"&gt;&lt;/a&gt;    &lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sqlite3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;':memory:'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-7"&gt;&lt;/a&gt;    &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'CREATE TABLE t (key TEXT, val TEXT)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-8"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-10"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_sqlite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-11"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# setup&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-12"&gt;&lt;/a&gt;    &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'INSERT INTO t (key, val) VALUES ("foo", "bar")'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-13"&gt;&lt;/a&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-14"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# test 1&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-15"&gt;&lt;/a&gt;    &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'SELECT * FROM t;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-16"&gt;&lt;/a&gt;    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;'foo'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-17"&gt;&lt;/a&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-18"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# test ...&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-19"&gt;&lt;/a&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-20"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# test N&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-21"&gt;&lt;/a&gt;    &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'SELECT * FROM t WHERE key = "foo";'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ecdeb9665c7942d996d48c78f48e452f-22"&gt;&lt;/a&gt;    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;'foo'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Here we have a test, where two separate things are tested. It is convenient to
write tests this way, because we only need to do setup once and then test
multiple things on the same setup.&lt;/p&gt;
&lt;p&gt;Lets assume, that we wrote &lt;code class="docutils literal"&gt;sqlite3&lt;/code&gt; module our tests fail at &lt;code class="docutils literal"&gt;test N&lt;/code&gt; step. We
need to debug what is going one. Usually debuggin requires to hook into for
example &lt;code class="docutils literal"&gt;db.execute&lt;/code&gt; and print some things or run a debugger like &lt;a class="reference external" href="https://docs.python.org/3/library/pdb.html"&gt;pdb&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Since failure is only happens on last &lt;code class="docutils literal"&gt;test N&lt;/code&gt; step, &lt;code class="docutils literal"&gt;db.execute&lt;/code&gt; debugging
becomse quite complicated, because in this one test we run &lt;code class="docutils literal"&gt;db.execute&lt;/code&gt;
multiple times. That means, we will see too much irrelevant output, which makes
it difficult to see only relevate output from our last &lt;code class="docutils literal"&gt;test N&lt;/code&gt; step.&lt;/p&gt;
&lt;p&gt;Usually I end up splitting such tests into many separate tests in order to make
debugging easier. For example, this test above could be split like this:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-1"&gt;&lt;/a&gt;&lt;span class="nd"&gt;@pytest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fixture&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-3"&gt;&lt;/a&gt;    &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'INSERT INTO t (key, val) VALUES ("foo", "bar")'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_sqlite_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-6"&gt;&lt;/a&gt;    &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'SELECT * FROM t;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-7"&gt;&lt;/a&gt;    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;'foo'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_sqlite_N&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-10"&gt;&lt;/a&gt;    &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'SELECT * FROM t WHERE key = "foo";'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_9efcb195973f448a81f4d886d1b80fb9-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;'foo'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Now that is much better. I can run just &lt;code class="docutils literal"&gt;test_sqlite_N&lt;/code&gt; and when debuggin, I
will see only relevant output.&lt;/p&gt;&lt;/div&gt;</description><category>python</category><category>testing</category><guid>https://sirex.lt/posts/2019/test-one-thing-in-one-test-function/</guid><pubDate>Thu, 02 Jan 2020 11:53:26 GMT</pubDate></item><item><title>Duomenų atvėrimas įgauna pagreitį</title><link>https://sirex.lt/posts/2019/duomenu-atverimas-igauna-pagreiti/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/pasisakyk.png"&gt;&lt;img alt="Balsuok už atvirus duomenis" class="previewimage" src="https://sirex.lt/images/2019/pasisakyk.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;Neturintiems laiko, trumpai.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Atvirų duomenų portalo įgyvendinimo ir duomenų atvėrimo darbai prasidėjo! Pirmo
etapo metu (2019 birželis — 2020 kovas) bus atverti šie &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?milestone_title=Pirmasis+duomen%C5%B3+atv%C4%97rimo+etapas"&gt;300 duomenų
rinkinių&lt;/a&gt;.  Šiuo metu yra planuojamas antras duomenų atvėrimo etapas.
Pasiruošti antram etapui reikia visuotinio Lietuvos verslo ir visuomenės
įsitraukimo. Nesvarbu ar esi verslo ar visuomenės atstovas, būk aktyvus ir
balsuok už tai, kokių duomenų reikėtų. Balsuojama šiame preliminariame &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?label_name%5B%5D=Duomenys"&gt;atvirų
duomenų sąraše&lt;/a&gt;. Siekiant rezultatų patikimumo, balsavimui reikalingas
prisijungimas prie Gitlab per Google, Twitter ar kitas socialines paskyras.
Straipsnio pabaigoje pateikiamos detalios instrukcijos kaip balsuoti arba kaip
įtraukti duomenis kurių dar nėra sąraše.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Turintiems laiko, plačiau.&lt;/strong&gt;&lt;/p&gt;
&lt;div class="section" id="lietuvos-atviru-duomenu-portalas"&gt;
&lt;h2&gt;Lietuvos atvirų duomenų portalas&lt;/h2&gt;
&lt;p&gt;Lietuvoje duomenų atvėrimas įgauna pagreitį. Jau yra žinomi atvirų duomenų
portalo įgyvendinimo konkurso laimėtojai — patį portalą kurs &lt;a class="reference external" href="https://www.atea.lt/"&gt;Atea&lt;/a&gt;, su kuria
IVPK pasirašė sutartį 2019–06–11 dieną, o projekto partnerių Darbo inspekcijos
ir Užimtumo tarnybos duomenis atvers &lt;a class="reference external" href="https://www.itreegroup.eu/"&gt;iTree Lietuva&lt;/a&gt;, &lt;a class="reference external" href="http://www.gerasolutions.lt/"&gt;Gera Solutions&lt;/a&gt; ir &lt;a class="reference external" href="http://www.binar.lt/"&gt;Binar
Solutions&lt;/a&gt; įmonių grupė, su kuriomis sutartys pasirašytos 2019–06–13 dieną.&lt;/p&gt;
&lt;p&gt;Portalo kūrimo dalis kainuos 388,000 €, o Darbo inspekcijos ir Užimtumo
tarnybos duomenų atvėrimo dalis kainuos 239,000 €. Paskelbus viešąjį pirkimą
bendra biudžeto suma buvo 860,925.62 € (be PVM), tačiau tiekėjai pasiūlė
mažesnę 627,000 € kainą.&lt;/p&gt;
&lt;p&gt;Didžioji dalis finansų bus panaudota duomenų atvėrimui. Bendrai, tiek Atea,
tiek įmonių grupė atvers 300 duomenų rinkinių iš penkių įstaigų:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Švietimo ir informacinių technologijų centras — &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?scope=all&amp;amp;utf8=%E2%9C%93&amp;amp;state=opened&amp;amp;label_name%5B%5D=%C5%A0vietimo%20informacini%C5%B3%20technologij%C5%B3%20centras&amp;amp;milestone_title=Pirmasis%20duomen%C5%B3%20atv%C4%97rimo%20etapas"&gt;21 rinkinys&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Žemės ūkio informacijos ir kaimo verslo centras — &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?scope=all&amp;amp;utf8=%E2%9C%93&amp;amp;state=opened&amp;amp;label_name%5B%5D=%C5%BDem%C4%97s%20%C5%ABkio%20informacijos%20ir%20kaimo%20verslo%20centras&amp;amp;milestone_title=Pirmasis%20duomen%C5%B3%20atv%C4%97rimo%20etapas"&gt;28 rinkiniai&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinė mokėjimo agentūra — &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?scope=all&amp;amp;utf8=%E2%9C%93&amp;amp;state=opened&amp;amp;label_name%5B%5D=Nacionalin%C4%97%20mok%C4%97jim%C5%B3%20agent%C5%ABra&amp;amp;milestone_title=Pirmasis%20duomen%C5%B3%20atv%C4%97rimo%20etapas"&gt;150 rinkinių&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė darbo inspekcija — &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?scope=all&amp;amp;utf8=%E2%9C%93&amp;amp;state=opened&amp;amp;milestone_title=Pirmasis%20duomen%C5%B3%20atv%C4%97rimo%20etapas&amp;amp;label_name%5B%5D=Valstybin%C4%97%20darbo%20inspekcija"&gt;30 rinkinių&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Užimtumo tarnyba — &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?scope=all&amp;amp;utf8=%E2%9C%93&amp;amp;state=opened&amp;amp;milestone_title=Pirmasis%20duomen%C5%B3%20atv%C4%97rimo%20etapas&amp;amp;label_name%5B%5D=U%C5%BEimtumo%20tarnyba"&gt;72 rinkiniai&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pilną duomenų rinkinių sąrašą, kuriuos planuojama atverti galite rasti čia:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/-/milestones/7"&gt;https://gitlab.com/atviriduomenys/manifest/-/milestones/7&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kiekvieno duomenų rinkinio apimtis bus tiksliai apibrėžta atvėrimo proceso
metu, taip kad atitiktų duomenų rinkinio kaip logiškai vientisos kompaktiškos
susijusių duomenų grupės sampratą. Todėl iš vienos informacinės sistemos (IS),
kaip pirminio duomenų rinkinio šaltinio, gali būti suformuota daug duomenų
rinkinių. Todėl duomenų rinkinių skaičius 300 nelabai nusako, kiek tų duomenų
bus atverta ir kokį poveikį tai turės. Bet toks skaičius jau patvirtintas,
būtent tokiam sąrašui yra skirti pinigai ir pasak atvirų duomenų projektų
vadovo, šio sąrašo keisti galimybės nėra.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="antrasis-duomenu-atverimo-etapas"&gt;
&lt;h2&gt;Antrasis duomenų atvėrimo etapas&lt;/h2&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/antrasis-duomenu-atverimo-etapas.png"&gt;&lt;img alt="Antrasis duomenų atvėrimo etapas" src="https://sirex.lt/images/2019/antrasis-duomenu-atverimo-etapas.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;&lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues/30"&gt;Pirmasis duomenų atvėrimo etapas&lt;/a&gt; yra įšaldytas ir nieko keisti nebegalima,
nes jau pasirašytos sutartys dėl šių duomenų atvėrimo. Tačiau šiuo metu
planuojamas &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues/31"&gt;antrasis duomenų atvėrimo etapas&lt;/a&gt;. Atliktas 62 institucijų
įvertinimas dėl galimai naudingų duomenų atvėrimo. Tačiau duomenų atvėrimą
geriausiai įprasmina tik jų naudojimas.&lt;/p&gt;
&lt;p&gt;Iš vienos pusės yra svarbu žinoti kokių duomenų yra, tačiau dar svarbiau
suprasti kokių duomenų labiausiai reikia verslui, nevyriausybinėms
organizacijoms ir visuomenės atstovams.&lt;/p&gt;
&lt;p&gt;Jau kuris laikas bandoma išsiaiškinti, kokie atverti duomenų rinkiniai turės
didžiausią poveikį ir kokių duomenų labiausiai reikia. Jei pavyks įtraukti
tikruosius atvirų duomenų naudotojus į šį procesą, tada tikėtina, jog
priartėsime prie poreikiu grįstų kokybiškų duomenų atvėrimo.&lt;/p&gt;
&lt;p&gt;Tam ir kviečiame duomenų atvėrime, o ypač poreikio įvertinime dalyvauti
plačiąją visuomenę, o ypač jos aktyvią dalį, kuri jau yra pasiruošusi naudoti
viešojo sektoriaus duomenis, turi idėjų kokių duomenų reikia jų projektams
įgyvendinti, išspręsti socialines, viešojo intereso ar asmenines problemas.&lt;/p&gt;
&lt;p&gt;Taigi aktyvus visuomenės, verslo, mokslo, piliečių dalyvavimas ir nuomonės
surinkimas duomenų atvėrimo darbų koordinavimui yra labai svarbus ir
reikalingas.&lt;/p&gt;
&lt;p&gt;Poreikiu grįstas duomenų atvėrimas, bus įmanomas tik esant susiformavusioms ir
aktyvioms atvirų duomenų naudotojų bendrijoms iš visuomenės, verslo ir mokslo
srities.&lt;/p&gt;
&lt;p&gt;Tokioms atvirų duomenų naudotojų grupėms susiformuoti visuomenėje yra
reikalingas netrumpas laikas ir kas ne mažiau svarbu — kritinis pradinis
numanomai labiausiai paklausių tvarkingai atvertų duomenų kiekis. Tačiau ir
pradiniam kokybiškai atvertų duomenų rinkinių sąrašui sudaryti yra reikalinga
nusistatyti duomenų rinkinių atvėrimo prioritetus.&lt;/p&gt;
&lt;p&gt;Bendradarbiaujant kartu su &lt;a class="reference external" href="https://ivpk.lrv.lt/"&gt;IVPK&lt;/a&gt; ir &lt;a class="reference external" href="https://eimin.lrv.lt/"&gt;EIMIN&lt;/a&gt; buvo nuspręsta išbandyti &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues"&gt;GitLab&lt;/a&gt;
aplinką, kuri leis potencialiems atvirų duomenų naudotojams ne tik lengvai ir
paprastai aprašyti duomenų poreikį, bet ir viešai stebėti šio poreikio
nagrinėjimo ir/ar įgyvendinimo eigą.&lt;/p&gt;
&lt;p&gt;Poreikio nustatymo problema sprendžiama jau kurį laiką tačiau iš daugelio
bandymų (&lt;a class="reference external" href="http://opendata.gov.lt/index.php?vars=/uzklausimai/uzklausimai/new/0"&gt;buvo&lt;/a&gt; &lt;a class="reference external" href="https://docs.google.com/forms/d/e/1FAIpQLSf34fXds_dXBYoBMAwRX_ab1q5Z9dHEcRAoarG78Pfq4lodpQ/viewform"&gt;daug&lt;/a&gt; &lt;a class="reference external" href="https://groups.google.com/d/topic/atviriduomenys/eHtQ4wRhkkY/discussion"&gt;visokių&lt;/a&gt; &lt;a class="reference external" href="https://pwc.qualtrics.com/jfe/form/SV_3VojGqcFB1J2STX"&gt;bandymų&lt;/a&gt;) nė vienas nepateisino lūkesčių.
Gal būt nepasiteisino, nes apklausos formos neturi atgalinio ryšio, nėra
galimybės matyti kokių duomenų reikia kitiems, negalima komentuoti, mėgti ar
dalintis duomenų rinkiniais. Tačiau gali būti, kad atvirų duomenų tema tiesiog
nėra įdomi.&lt;/p&gt;
&lt;p&gt;Jei Gitlab eksperimentas pasiteisins kaip patogi priemonė deklaruoti poreikį,
koordinuoti jo įgyvendinimą ir stebėti įgyvendinimo eigą — su ADP sukūrimo
paslaugų teikėjais bus galima aptarti jo integravimą į ADP infrastruktūrą.&lt;/p&gt;
&lt;p&gt;Gitlab užduotis rasite čia:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues"&gt;https://gitlab.com/atviriduomenys/manifest/issues&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kaip-prasyti-duomenu"&gt;
&lt;h2&gt;Kaip prašyti duomenų?&lt;/h2&gt;
&lt;div class="section" id="kaip-prisijungti-prie-gitlab"&gt;
&lt;h3&gt;Kaip prisijungti prie Gitlab&lt;/h3&gt;
&lt;p&gt;Siekiant užtikrinti balsavimų patikimumą, reikia prisijungti prie Gitlab per
Google, Twitter ar kitas socialines paskyras. Tai padaryti labai paprasta.
&lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?label_name%5B%5D=Duomenys"&gt;Einame į duomenų sąrašo puslapį Gitlab&lt;/a&gt;. Pirmiausia spaudžiame mygtuką &lt;em&gt;Sign
in / Register&lt;/em&gt;:&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/sign-in-register.png"&gt;&lt;img alt="Sign in / Register" src="https://sirex.lt/images/2019/sign-in-register.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Tada pasirinkite socialinį tinklą kuriame jau esate užsiregistravę:&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/sign-in-sso.png"&gt;&lt;img alt="Prisijungimas per socialinius tinklus." src="https://sirex.lt/images/2019/sign-in-sso.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Tokiu būdu greitai prisijungsite prie Gitlab, be registracijos. Žinoma, jei
pageidaujate galite jungtis ne per socialinius tinklus, o užsiregistruoti
atskirai Gitlab svetainėje.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kaip-balsuoti"&gt;
&lt;h3&gt;Kaip balsuoti&lt;/h3&gt;
&lt;p&gt;Einame į &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?label_name%5B%5D=Duomenys"&gt;duomenų sąrašo puslapį Gitlab&lt;/a&gt;. Prisijungiame į Gitlab. Peržiūrime
duomenų, kuriuos planuojama atverti sąrašą, kuris atrodo taip.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/gitlab-uzduociu-sarasas.png"&gt;&lt;img alt="GitLab užduočių sąrašas." src="https://sirex.lt/images/2019/gitlab-uzduociu-sarasas.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Tada reikia atsidaryti patikusią užduotį ir spausti mygtuką patinka.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/like-button.png"&gt;&lt;img alt="Kaip mėgti duomenų rinkinį." src="https://sirex.lt/images/2019/like-button.thumbnail.png"&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div class="section" id="kaip-itraukti-duomenis-kuriu-dar-nera-sarase"&gt;
&lt;h3&gt;Kaip įtraukti duomenis, kurių dar nėra sąraše&lt;/h3&gt;
&lt;p&gt;Jei &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues?label_name%5B%5D=Duomenys"&gt;sąraše&lt;/a&gt; nėra duomenų rinkinio, kurio jums reikia, tada tiesiog sukurkite
naują užduotį. Kuriant naują užduotį svarbiau nurodyti ne konkrečiai kokių
duomenų reikia, o kokiam tikslui. Duomenų atvėrimas turėtų būti nukreiptas į
poveikį, o poveikį kuria projektai naudojantys duomenis, todėl kuriant naujas
užduotis dėl duomenų poreikio rekomenduočiau nurodyti kokiam tikslui reikia
duomenų ir kokį poveikį turės jūsų projektas.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/nauja-uzduotis.png"&gt;&lt;img alt="GitLab naujos užduoties mygtukas." src="https://sirex.lt/images/2019/nauja-uzduotis.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Kuriant naują užduotį yra galimybė pasirinkti šabloną, kuris gali palengvinti
užduoties pildymą.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/uzduoties-sablonas.png"&gt;&lt;img alt="Pasirinkite užduoties šabloną." src="https://sirex.lt/images/2019/uzduoties-sablonas.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Tada tiesiog pavadinkite užduotį peržiūrėkite, kas surašyta šablone, ištrinkite tai, ko nereikia, papildykite nauja informacija, kurios trūksta. Prieš pateikdami užduotį įsitikinkite, kad tokios užduoties dar niekas nėra kūręs.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/panasios-uzduotys.png"&gt;&lt;img alt="Panašių užduočių aptikimas." src="https://sirex.lt/images/2019/panasios-uzduotys.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Ir jei viskas gerai, pateikite užduotį.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/uzduoties-pateikimas.png"&gt;&lt;img alt="GitLab užduoties pateikimas." src="https://sirex.lt/images/2019/uzduoties-pateikimas.thumbnail.png"&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div class="section" id="kaip-bus-atsizvelgiama-i-balsavimo-rezultatus"&gt;
&lt;h3&gt;Kaip bus atsižvelgiama į balsavimo rezultatus&lt;/h3&gt;
&lt;p&gt;Pateiktas užduotis peržiūrės vienas iš &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/-/project_members"&gt;atvirų duomenų administratorių&lt;/a&gt;, jei
reikia sutvarkys, priskirs reikiamus duomenų rinkinius, svorius, žymes ir pan.
Į jūsų išsakytus pageidavimus bus atsižvelgta atveriant duomenis &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues/31"&gt;antrame
etape&lt;/a&gt;.  Galbūt, jei pavyks susikalbėti su tiekėjais, į jūsų nuomonę gali
būti atsižvelgta ir &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest/issues/30"&gt;pirmame etape&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Jei duomenys jau atverti, tačiau netenkina jų kokybė ar trūksta kokių nors
duomenų laukų, taip pat kurkite užduotis, dėkite nuorodas į duomenų šaltinį.&lt;/p&gt;
&lt;p&gt;Kol kas atvirų duomenų administratoriai yra &lt;a class="reference external" href="https://gitlab.com/julius.belickas"&gt;Julius&lt;/a&gt; ir &lt;a class="reference external" href="https://gitlab.com/Cepaitiene"&gt;Eglė&lt;/a&gt; iš IVPK, &lt;a class="reference external" href="https://gitlab.com/Asta_Z"&gt;Asta&lt;/a&gt;
iš EIMIN ir &lt;a class="reference external" href="https://gitlab.com/sirex"&gt;aš&lt;/a&gt;. Vėliau, galbūt pavyks įtraukti tiekėjus ir atstovus iš įstaigų.&lt;/p&gt;
&lt;p&gt;Visos poreikio užduotys bus priskirtos duomenų rinkinių atvėrimo užduotims.
Galite sekti duomenų atvėrimo užduotis ir gauti visą informaciją, apie tai,
koks progresas atveriant duomenis.&lt;/p&gt;
&lt;p&gt;Po to, kai duomenys yra atveriami, duomenų atvėrimo užduotis uždaroma, o kai
atveriami visi projektui reikalingi duomenys, uždaroma ir poreikio užduotis.
Tikslas per kiek įmanoma trumpesnį laiko uždaryti kuo daugiau užduočių ir
laikyti užduočių sąrašą tuščią.&lt;/p&gt;
&lt;p&gt;Tikimės, kad šis variantas įtrauks tiek duomenų naudotojus, tiek duomenis
valdančias įstaigas, tiek duomenis atveriančius tiekėjus, visi dirbdami kartu
pasieksime žymiai geresnių rezultatų.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>atviriduomenys</category><guid>https://sirex.lt/posts/2019/duomenu-atverimas-igauna-pagreiti/</guid><pubDate>Mon, 22 Jul 2019 21:00:00 GMT</pubDate></item><item><title>Paskelbtas atvirų duomenų portalo viešasis pirkimas</title><link>https://sirex.lt/posts/2019/paskelbtas-atviru-duomenu-portalo-viesasis-pirkimas/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Jau paskelbtas atvirų duomenų portalo įgyvendinimo &lt;a class="reference external" href="https://cvpp.eviesiejipirkimai.lt/Notice/Details/2019-648207"&gt;viešasis pirkimas&lt;/a&gt;.
Nusprendžiau skirti vieną dieną ir įdėmiau panagrinėti viešojo pirkimo
dokumentus, o taip pat noriu pasidalinti konkretaus techninio sprendimo idėja,
kaip visą tai būtų galima įgyvendinti atsižvelgiant į turimą biudžetą ir
techninę specifikaciją.&lt;/p&gt;
&lt;div class="section" id="apie-viesaji-pirkima"&gt;
&lt;h2&gt;Apie viešąjį pirkimą&lt;/h2&gt;
&lt;p&gt;Terminai ir sumos (&lt;em&gt;visos sumos be PVM&lt;/em&gt;):&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;2019–02–12&lt;/strong&gt; paskelbtas viešasis pirkimas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;2019–03–19&lt;/strong&gt; pasiūlymų teikimo pabaiga&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;2020–03–27&lt;/strong&gt; numatoma projekto pabaiga&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;860,925.62 €&lt;/strong&gt; bendra pirkimo vertė&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Visą viešąjį pirkimą sudaro trys dalys:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;556,859.50 €&lt;/strong&gt; portalo įgyvendinimas ir 5 partnerių duomenų atvėrimas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;117,024.79 €&lt;/strong&gt; valstybinės darbo inspekcijos duomenų atvėrimas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;187,041.32 €&lt;/strong&gt; užimtumo tarnybos duomenų atvėrimas&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Penki partneriai, kurių duomenys bus atverti portalo įgyvendinimo metu:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Užimtumo tarnyba (51 rinkinys)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Švietimo informacinių technologijų centras&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nacionalinė mokėjimo agentūra&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Valstybinė darbo inspekcija (30 rinkinių)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;VĮ Žemės ūkio informacijos ir kaimo verslo centras&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Keista, bet užimtumo tarnybos ir valstybinės darbo inspekcijos duomenų
atvėrimas numatytas tiek pirmame, tiek antrame ir trečiame etapuose. Gal būt
jie turi labai daug duomenų? Nežinau.&lt;/p&gt;
&lt;p&gt;Džiugu matyti, kad vis dėlto didžioji dalis biudžeto yra skirta duomenų
atvėrimui, o ne naujo portalo kūrimui. Pačio portalo įgyvendinimo etape,
numatytas lėšas reikės dalintis kartu atveriant ir penkių partnerių duomenis.
Tai pačiam portalui lieka gan nedidelė biudžeto dalis.&lt;/p&gt;
&lt;p&gt;Papildomai bus reikalinga integracija su &lt;a class="reference external" href="https://www.europeandataportal.eu/lt/homepage"&gt;Europos duomenų portalu&lt;/a&gt;, reikės
perkelti &lt;a class="reference external" href="http://opendata.gov.lt/"&gt;opendata.gov.lt&lt;/a&gt; duomenis į naują portalą, reikės integruoti
&lt;a class="reference external" href="https://www.geoportal.lt/"&gt;geoportal.lt&lt;/a&gt; duomenų aprašus, reikės integruotis su &lt;a class="reference external" href="https://ivpk.lrv.lt/lt/veiklos-sritys-1/viisp"&gt;VIISP&lt;/a&gt; diegiant SSO
(&lt;em&gt;Single Sign-On&lt;/em&gt;). Dar yra paminėta integracija su &lt;a class="reference external" href="https://ivpk.lrv.lt/lt/veiklos-sritys-1/tarpzinybine-mokestiniu-duomenu-saugykla"&gt;TDS&lt;/a&gt;, bet abejoju ar ji
įmanoma, nes bent jau man neteko girdėti, kad su jais būtų bendradarbiaujama,
aš pats bandžiau užmegzti kontaktą su TDS specifikacijos rengėjais, bet jie
buvo labai užimti ir nenoriai bendravo, atsakymus gaudavau po mėnesio.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="apie-technine-specifikacija"&gt;
&lt;h2&gt;Apie techninę specifikaciją&lt;/h2&gt;
&lt;p&gt;Pirmiausia noriu pasidalinti tuo, kas mane nudžiugino, o po to pereisiu prie mažiau džiuginančių dalykų. Buvau nustebęs, kad techninės specifikacijos regėjai atsižvelgė į nemažą dalį mano pastabų. Valio!&lt;/p&gt;
&lt;p&gt;Integracija su TDS nėra būtina:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nors tiesioginės duomenų mainų sąveikos tarp Portalo ir TDS nenumatoma (dėl
skirtingų duomenų saugos ir konfidencialumo reikalavimų), tačiau
numatytinas sukurtų TDS funkcinių sprendimų atkartojimas įgyvendinant
Portalo funkcionalumus pagal pasirinktos informacinių technologijų
platformos ir infrastruktūros galimybes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Padorūs reikalavimai dėl licencijų, kurie turėtų padėti išvengti taip vadinamo
&lt;a class="reference external" href="https://lt.wikipedia.org/wiki/Gamintojo_prirakinimas"&gt;vendor lock-in&lt;/a&gt; atvejo.&lt;/p&gt;
&lt;p&gt;Numatyta, kad tiekėjas turėtų pateikti visą kodo keitimų istoriją (jei
teisingai supratau):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ADP kūrimui turi būti naudojama atviro kodo platforma, visi pakeitimai
perduodami, aprašomi ir publikuojami Git arba analogiškoje platformoje.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Agile yra privalomas ir tai taikoma ne tik ADP kūrimui, bet ir partnerių
duomenų atvėrimui:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ADP turi būti kuriama iteraciniu (angl. agile) būdu.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dar vienas džiaugsmą keliantis reikalavimas, CI/CD yra privalomas:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ADP turi būti kuriamas remiantis tęstinio integravimo/tęstinio diegimo
principais (angl. Continuous Integration/Continuous Deployment), t. y.
aktuali ADP versija turi būti visada prieinama testavimui Projekto
vykdytojo, Projekto partnerių atstovams ir kitoms naudotojų grupėms.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Įtarimą kelia nurodyta išimtis dėl serverio ir duomenų bazių licencijų:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ADP diegėjas turi pateikti ADP ir transformavimo, bei integracinių
komponentų programinės įrangos išeities kodų tekstus bei jų diegimo paketus
ir/arba naudojimo licencijas, kurios suteikia teisę Projekto vykdytojui ADP
naudoti neribotam naudotojų skaičiui — &lt;strong&gt;ši licencija neturi apimti techninės
įrangos veikimui būtinų licencijų (serverio licencijos, duomenų bazių
licencijų)&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Susidaro įspūdis, kad palikta šiek tiek laisvės, kad atskiru pirkimu būtų
galima įsigyti labai brangiai kainuojančias Oracle licencijas.&lt;/p&gt;
&lt;p&gt;Bendrai visa techninė specifikacija yra per daug detali ir neatitinka Agile
principų. Pavyzdžiu yra pateikta lentelė kur labai detaliai surašyta, kaip turi
būti apskaičiuojamas duomenų rinkinio atvėrimo prioritetas. Aš pats bandžiau
tokią formulę sudaryti remiantis realiais duomenimis, bet formulę keičiau jau
kokius 5 kartus ir įtraukiant vis daugiau duomenų, matau, kad formulę reikės
dar keisti ne vieną kartą. Todėl gal būt gerai turėti kažkokias gaires, bet
turėtų būti palikta ir laisvė priimti kitą sprendimą.&lt;/p&gt;
&lt;p&gt;Pateikta daug detalių apie naudotojų roles, surašyti detalūs sąrašai, ką jie
gali daryti. Tai sukelia nereikalingų apribojimų.&lt;/p&gt;
&lt;p&gt;Bet kokiu atveju, techninė specifikacija nėra labai bloga, todėl išlieka
didžiausias klausimas, kas laimės viešąjį konkursą, ar nebus dempinguojamos
kainos ar galiausiai ADP projektas netaps tiekėjo įkaitu. Jei tiekėjas bus
sukalbamas ir nepiktybinis, tada manau tikrai galime turėti aukščiausio lygio
atvirų duomenų portalą!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mano-pasiulymas"&gt;
&lt;h2&gt;Mano pasiūlymas&lt;/h2&gt;
&lt;p&gt;Noriu pasidalinti mintimis, kaip įgyvendinčiau atvirų duomenų portalą,
įvertinant turimą biudžetą ir reikalavimus specifikacijoje.&lt;/p&gt;
&lt;p&gt;Dažniausiai diagramas supranta tik tie, kurie jas paišė, bet manau geriau
netobula diagrama, nei jokios diagramos. Mano diagrama atrodo taip: Atvirų
duomenų portalo komponentų architektūra&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/adp-schema.png"&gt;&lt;img alt="/images/2019/adp-schema.thumbnail.png" class="whitebg" src="https://sirex.lt/images/2019/adp-schema.thumbnail.png"&gt;&lt;/a&gt;
&lt;p&gt;Visą atvirų duomenų portalą galima pastatyti ant CKAN ir GitLab. GitLab gal būt
atrodytų kiek neįprastas sprendimas, bet manau tai tikrai veiktų. Vienintelė
dalis, kuriai neradau jokio gero egzistuojančio sprendimo yra duomenų atvėrimo
sistema. Į pačią duomenų atvėrimo dalį įeina labai daug specifinio
funkcionalumo tokio kaip duomenų inventorizacija, nuasmeninimas, vertimas į
vieningą žodyną, normalizavimas į normalinę reliacinę formą, duomenų valymas,
duomenų tikrnimas, kokybės gerinimas, duomenų susiejimas, prioritetų
vertinimas, paklausos vertinimas, poveikio vertinimas, eksportavimas į įvairius
formatus, importavimas iš įvairių formatų ir šaltinių, ir t.t. Yra atskirų
sprendimų kurie sprendžia vieną ar kitą dalį, tačiau pilno sprendimo neradau ir
ko gero tokio sprendimo nėra. Todėl šiuo atveju manau geriausia pasidaryti savo
in-house sprendimą, kas diagramose yra pažymėta žalia spalva.&lt;/p&gt;
&lt;p&gt;Veikimo principas būtų toks:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Gan abstrakčiame &lt;a class="reference external" href="https://www.w3.org/TR/vocab-dcat/"&gt;DCAT&lt;/a&gt; lygmenyje su duomenų rinkiniais būtų dirbama CKAN
aplinkoje.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Visas darbų organizavimas ir komunikacija vyktų GitLab užduotyse ir užduočių
komentaruose. Ten būtų teikiami prašymai, pranešama apie klaidas, balsuojama
dėl prioritetų ir pan.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Darbas objektų ir jų savybių struktūrų lygmenyje vyktų GitLab aplinkoje,
dirbant su YAML failais, nenaudojant jokių specializuotų naudotojo sąsajų.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Duomenų kokybės gerinimo ir transformavimo dalykai iš dalies būtų padengti
deklaratyviais aprašais YAML failuose, tačiau kur deklaratyvaus išraiškingumo
nepakankama, būtų rašomi Python skriptai.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Galiausiai visus tuos YAML ir Python skriptus valgytų tarpinė duomenų
saugyklą Spinta ir išvalytus duomenis išsaugotų vienoje ar keliose duomenų
bazėse, priklausomai nuo duomenų pobūdžio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Website dalyje būtų atvaizduojamos įvairios ataskaitos apie duomenų atvėrimo
esminius rodiklius. Taip pat būtų minimalistinė naudotojo sąsaja duomenims
atsisiųsti.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pasitelkus CKAN ir GitLab, nukristu labai didelė dalis darbų, be to, reikėtų
žymiai didesnio biudžeto ir daug daugiau laiko, norint pasiekti CKAN ir GitLab
lygį.&lt;/p&gt;
&lt;p&gt;Atsisakius naudotojų sąsajų ir perkeliant sudėtingesnę techninę dalį tiesiai į
YAML failus, vėl nukrenta didelė dalis gan sudėtingų naudotojo sąsajų kūrimui.
Žinoma, dalį YAML failuose pateikiamų duomenų galima būtų pateikti ir per
formas, tačiau manau tai turėtų būti pridėtinis funkcionalumas, jei užtektų
laiko.&lt;/p&gt;
&lt;p&gt;Atsisakius visų minėtų dalykų būtų galima koncentruotis į pačių duomenų
atvėrimą ir jų kokybės gerinimą.&lt;/p&gt;
&lt;p&gt;Be to, dalį darbų jau esu padaręs, CKAN yra &lt;a class="reference external" href="https://github.com/ivpk/opendata.gov.lt"&gt;paleistas&lt;/a&gt; ir veikia
&lt;a class="reference external" href="https://github.com/ivpk/opendata.gov.lt"&gt;ckan.opendata.gov.lt&lt;/a&gt; adresu. Duomenys iš senos &lt;a class="reference external" href="http://opendata.gov.lt/"&gt;opendata.gov.lt&lt;/a&gt; sistemos taip
pat yra &lt;a class="reference external" href="https://github.com/ivpk/opendata.gov.lt-mysql-import"&gt;perkelti&lt;/a&gt;. Integracija su &lt;a class="reference external" href="https://www.geoportal.lt/"&gt;geoportal.lt&lt;/a&gt; jau padaryta, nors reikėtų
prie to dar šiek tiek padirbėti, kad atitikti Europos duomenų portalo
standartus.  &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/manifest"&gt;Open Data Manifest&lt;/a&gt; projektą vystau jau gan ilgą laiką ir prie
esamos versijos dirbu nuo 2018 metų rudens. Tarpinę saugyklą, kurią esu
pavadinęs &lt;a class="reference external" href="https://gitlab.com/atviriduomenys/spinta"&gt;Spinta&lt;/a&gt;, taip pat jau esu pradėjęs įgyvendinti ir prie to dirbu nuo
2019 metų pradžios.&lt;/p&gt;
&lt;p&gt;Iš esmės, didelė dalis komponentų jau siekia bent jau &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Minimum_viable_product"&gt;MVP&lt;/a&gt; stadiją ir yra
paruošti naudojimui, todėl lieka imtis duomenų atvėrimo darbais ir esamų
komponentų tobulinimu iteraciniu-inkrementiniu būdu.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>atviriduomenys</category><guid>https://sirex.lt/posts/2019/paskelbtas-atviru-duomenu-portalo-viesasis-pirkimas/</guid><pubDate>Tue, 19 Feb 2019 22:00:00 GMT</pubDate></item><item><title>Kaip galėtų atrodyti Lietuvos atvirų duomenų portalas</title><link>https://sirex.lt/posts/2018/kaip-galetu-atrodyti-lietuvos-atviru-duomenu-portalas/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Lietuvoje įsibėgėja atvirų duomenų portalo (ADP) projektas, kuriam yra skirta
&lt;a class="reference external" href="https://ivpk.lrv.lt/lt/apie-ivpk/vykdomi-projektai/atviru-duomenu-platformos-igalinancios-efektyvu-viesojo-sektoriaus-informacijos-pakartotini-panaudojima-verslui-ir-jos-valdymo-irankiu-sukurimas"&gt;2,6 mln. €&lt;/a&gt;. Šiuo metu rengiama ADP techninė specifikacija. Šio projekto
eigą atidžiai stebiu nuo pat pradžių. Jei tiksliau, atvirų duomenų sritį
pradėjau stebėti nuo 2012 metų, o ADP projektas prasidėjo 2017 metais.&lt;/p&gt;
&lt;p&gt;Noriu pasidžiaugti, kad tiek &lt;a class="reference external" href="https://ivpk.lrv.lt/"&gt;IVPK&lt;/a&gt;, tiek tiekėjai sutinka bendrauti ir dalinasi
informacija apie projekto eigą ir progresą, padeda suprasti, kas vyksta.&lt;/p&gt;
&lt;p&gt;Per 6 metus esu paleidęs nuo nulio &lt;a class="reference external" href="https://github.com/sirex/atviriduomenys.lt"&gt;kurtą&lt;/a&gt; atvirų duomenų portalą, keletą
kartų esu paleidęs &lt;a class="reference external" href="https://ckan.org/"&gt;CKAN&lt;/a&gt; sistemą, &lt;a class="reference external" href="https://bitbucket.org/sirex/ckan-ivpk-import"&gt;kelis&lt;/a&gt; &lt;a class="reference external" href="https://github.com/sirex/ckan-ivpk-import"&gt;kartus&lt;/a&gt; &lt;a class="reference external" href="https://github.com/sirex/opendata.gov.lt-mysql-import"&gt;esu&lt;/a&gt; &lt;a class="reference external" href="https://github.com/ivpk/opendata.gov.lt-mysql-import"&gt;perkėlęs&lt;/a&gt; &lt;a class="reference external" href="http://opendata.gov.lt/"&gt;IVPK
IRS&lt;/a&gt; sistemos duomenis į &lt;a class="reference external" href="http://ckan.opendata.gov.lt/"&gt;CKAN&lt;/a&gt;. Esu daręs duomenų surinkimą naudojant &lt;a class="reference external" href="https://scrapy.org/"&gt;Scrapy&lt;/a&gt;
ir &lt;a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/"&gt;BeatifulSoap&lt;/a&gt;, esu sukūręs savo &lt;a class="reference external" href="https://github.com/sirex/databot"&gt;karkasą&lt;/a&gt; duomenims atverti ir to &lt;a class="reference external" href="https://github.com/sirex/databot-bots"&gt;karkaso
pagalba&lt;/a&gt; esu &lt;a class="reference external" href="http://atviriduomenys.lt/data/"&gt;atvėręs apie 10 duomenų rinkinių&lt;/a&gt;. Atvertus duomenis esu
panaudojęs projektuose &lt;a class="reference external" href="http://manoseimas.lt"&gt;manoseimas.lt&lt;/a&gt;, &lt;a class="reference external" href="http://manopozicija.lt"&gt;manopozicija.lt&lt;/a&gt;, esu &lt;a class="reference external" href="https://www.kaggle.com/sirexo/similar-groups-by-votes"&gt;analizavęs&lt;/a&gt; duomenis
panaudodamas mašinų mokymosi algoritmus. Dariau &lt;a class="reference external" href="https://goo.gl/forms/NG1N5GDfAHX1JvS22"&gt;apklausą&lt;/a&gt; dėl atvirų duomenų
poreikio. Apklausos pagrindu parengiau &lt;a class="reference external" href="https://github.com/ivpk/metadata"&gt;inventorizacijos ir prašymo gauti
duomenis pavyzdines formas&lt;/a&gt;. Esu skaitęs daugybę dokumentų, tokių kaip
investiciniai projektai, projekto nuostatai, viešojo pirkimo dokumentai,
galimybių tyrimai ir pan.&lt;/p&gt;
&lt;p&gt;Visu tuo noriu pasakyti, kad esu išsamiai susipažinęs su atvirų duomenų
klausimu. Kadangi šiuo metu yra rengiama techninė atvirų duomenų portalo
specifikacija, noriu pasidalinti savo patirtimi ir matymu, kaip galėtų būti
kuriamas atvirų duomenų portalas.&lt;/p&gt;
&lt;p&gt;Mano vertinimu, atvirų duomenų projektas turėtų būti sudarytas iš šių esminių
dalių (kiekvienos dalies apimtį įvertinau pinigais, kad geriau atspindėti tos
dalies svorį visame projekte):&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;7,3 mln. €&lt;/strong&gt; duomenų inventorizavimo ir atvėrimo darbai, jei būtų atveriami
absoliučiai visi atvertini valstybinių įstaigų duomenys.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;0,2 mln. €&lt;/strong&gt; priemonių kūrimas duomenų inventorizavimui, prašymų teikimui,
atvėrimui ir viso proceso stebėsenai.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;0,03 mln. €&lt;/strong&gt; duomenų vitrinos CKAN pagrindu paleidimas.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;0,006 mln. €&lt;/strong&gt; infrastruktūros kaina per metus.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Paaiškinimą iš kur gavau tokius skaičius rasite skyrelyje finansų paskirstymas.
7,3 mln. € kaina duomenų inventorizavimui ir atvėrimui yra gerokai didesnė, nei
skirtas finansavimas. Bet mano vertinimu tiek galėtų kainuoti absoliučiai visų
valstybinių duomenų atvėrimas. Akivaizdu, kad skirto finansavimo neužteks
visiems duomenis atverti, todėl labai svarbu tinkamai nusistatyti prioritetus.
Jei bus atverti esminiai ir labiausiai reikalingi duomenų rinkiniai, to turėtų
užtekti didžiajai daliai projektų įgyvendinti. Jei duomenys bus atveriami
neatsižvelgiant į poreikį, tada pinigai bus išleisti, dalis duomenų bus
atverta, tačiau projektai negalės judėti į priekį, jei jiems trūks duomenų,
kurie nebuvo atverti.&lt;/p&gt;
&lt;div class="section" id="duomenu-brandos-lygiai"&gt;
&lt;h2&gt;Duomenų brandos lygiai&lt;/h2&gt;
&lt;p&gt;Valstybinės įstaigos pateikia gan daug duomenų ir informacijos savo svetainėse. Todėl atsiranda klausimas, kam reikia šio atvirų duomenų projekto, jei ir taip viskas jau yra pateikta. Atsakymas yra toks, kad šio atvirų duomenų projekto esmė yra pakelti duomenų brandos lygį.&lt;/p&gt;
&lt;p&gt;Remiantis &lt;a class="reference external" href="https://5stardata.info/"&gt;5 ★ Open Data&lt;/a&gt; skale yra tokie brandos lygiai:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;★ duomenys yra pateikti viešai, pagal atvirą licenciją, bet kokiu formatu ar
pavidalu.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;★★ duomenys yra pateikti struktūruotu pavidalu, pavyzdžiui skaičiuoklės
lentelėmis, o ne teksto dokumentais.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;★★★ duomenys yra pateikti atviru duomenų formatu, pavyzdžiui CSV formatu, o
ne skaičiuoklės dokumento failais.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;★★★★ duomenų įrašai turi globalius identifikatorius ir skirtingi duomenų
rinkiniai gali būti susieti tarpusavyje globalių identifikatorių dėka.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;★★★★★ duomenys aprašyti naudojant bendrai naudojamus žodynus.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Viso atvirų duomenų projekto tikslas, kelti duomenų brandos lygį, kad duomenis
būtų lengviau panaudoti įvairiuose projektuose.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="nuo-ko-pradeti"&gt;
&lt;h2&gt;Nuo ko pradėti?&lt;/h2&gt;
&lt;p&gt;Labai svarbu darbus pradėti nuo teisingo galo. Mano manymu, pradėti reikėtų nuo
duomenų atvėrimo. Pradžiai reikėtų pasirinkti nesudėtingą ir nedidelės apimties
duomenų rinkinį, pasidaryti inventorizaciją ir atverti duomenis.&lt;/p&gt;
&lt;p&gt;Tik turint realios patirties, bent su vienu ar keliais duomenų rinkiniais,
galima pradėti kurti priemones, kurios palengvintu inventorizavimo ir atvėrimo
darbus.&lt;/p&gt;
&lt;p&gt;Atlikus kelių duomenų rinkinių inventorizaciją, galima pereiti prie prašymų
gauti duomenis. Prašymai žinoma turėtų būti ne A4 lapas su tekstu, o
kompiuteriui suprantamo formato duomenų failas, kuriame būtų surašyti projektui
reikalingi laukai. Pradžiai, prašymų formos gali būti pateiktos paprastų
skaičiuoklių forma. Vėliau, išbandžius prašymų teikimo ir priėmimo procesą
praktiškai, galima sukurti patogesnius įrankius, vietoj skaičiuoklės lentelių.&lt;/p&gt;
&lt;p&gt;Turint procesą prašymų pateikimui ir priėmimui, duomenų atvėrimo prioritetas
turėtų būti nustatomas remiantis prašymų duomenimis. Kuo daugiau pateikta
prašymų tam tikriems duomenims gauti, tuo tų duomenų atvėrimo prioritetas
turėtų būti didesnis. Žinoma vadovautis reikėtų ne tik prašymu skaičiumi, bet
ir projekto, kuriam reikalingi duomenys rodikliais. Didelės apimties projektai,
turintys didžiausią socialinę ir ekonominę naudą, turėtų būti aukštesnio
prioriteto, nei nedideli ir mažos svarbos asmeniniai duomenų panaudojimo
projektėliai.&lt;/p&gt;
&lt;p&gt;Didėjant atvertų rinkmenų kiekiui reikalinga stebėsenos sistema, kurioje turėtų
atsispindėti esminiai veiklos rodikliai. Turėtų matytis kiek prašymų jau
patenkinta, kiek procentų liko iki tol, kol bus patenkinti visi prašymai arba
kiek procentų liko, kol bus pilnai patenkinti konkrečių projektų prašymai.
Turėtų būti galimybė stebėti atveriamų duomenų prognozuojama socialinė ir
ekonominė nauda. Visa stebėsena žinoma turėtų vykti realiu laiku.&lt;/p&gt;
&lt;p&gt;Nuolat didėjant atvertų duomenų rinkinių skaičiui, reikėtų apsirašyti metodiką,
kurioje būtų dokumentuoti duomenų atvėrimo procesai. Ši metodika turėtų padėti
išlaikyti vientisumą atveriant vis daugiau duomenų. Įgaunant vis naujos
patirties atveriant duomenis, metodika turėtų būti nuolat atnaujinama.
Realybėje, ADP projekte darbai buvo pradėti ne nuo duomenų atvėrimo, o nuo
metodikos rengimo, kas mano manymu nėra gerai. Galima bandyti aprašyti pyrago
valgymo metodiką, jo neparagavus, bet vis dėl to geriau atsikąsti bent vieną
kąsnį, o tada imtis metodikos, remiantis praktine patirtimi.&lt;/p&gt;
&lt;p&gt;Paskutiniame etape, turint pakankamai daug atvertų duomenų galima įsidiegti
atvirų duomenų vitriną. Atvirų duomenų vitrinoje būtų galima greitai susirasti
atvertus duomenų rinkinius, juos filtruoti pagal kategorijas, raktinius žodžius
ir pan. Vitrinoje galima demonstruoti, kokie projektai kokius duomenis naudoja.
Nėra prasmės paleidinėti vitrinos projekto pradžioje, neturint duomenų.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kiek-etapu-reikia-siam-projektui"&gt;
&lt;h2&gt;Kiek etapų reikia šiam projektui?&lt;/h2&gt;
&lt;p&gt;Šiuo metu ADP projektas yra suskirstytas į bent penkis skirtingus etapus.
Projekto pradžioje man kilo tam tikrų klausimų į kuriuos buvo atsakyta, kad
šiame etape tai nenumatyta, bet tai bus daroma vėlesniuose etapuose. Etapų
gausa trukdo sekti projekto eigą. Nėra garantijos, kad pažadėti darbai
sekančiuose etapuose tikrai bus vykdomi. Be to, kiekvienas etapas reikalauja
atskiro viešojo pirkimo, skirtingus etapus gali vykdyti skirtingi tiekėjai
turinti visiškai kitą pasaulio suvokimą.&lt;/p&gt;
&lt;p&gt;Idealiu atveju, geriausia apsiriboti vienu etapu, kuriame turi būti padaryta
viskas, be atidėliojimų ateities etapams. Vienam etapui užtektų vieno viešojo
pirkimo, nedidelės komandos paslaugoms, kuri toliau galėtų žongliruoti
įvairiais tiekėjais, žinoma skaidriai ir kompiuteriui įskaitomu formatu
atsiskaitydama už panaudotas lėšas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kas-turetu-buti-atsakingas-uz-duomenu-atverima"&gt;
&lt;h2&gt;Kas turėtų būti atsakingas už duomenų atvėrimą?&lt;/h2&gt;
&lt;p&gt;Duomenų atvėrimo darbų jokiu būdu nereikėtų permesti įstaigų atsakomybei.
Skirtingos įstaigos turi skirtingus IT pajėgumus, kai kurios iš vis neturi IT
skyriaus. Dažnai įstaigos informacines sistemas yra užsakiusios iš tiekėjų ir
pačios, be tiekėjų pagalbos negalėtų atverti duomenų. Su tiekėjais dažnai būna
pasibaigusios sutartys. Net jei įstaiga turi stiprų IT skyrių, tai nereiškia,
kad vidinis IT skyrius turi pakankamas kompetencijas duomenims atverti. Yra
keletas pavyzdžių, kai net ir atvėrus duomenis, atvertų duomenų brandos lygis
yra gan prastas ir prie duomenų reikia dar įdėti nemažai darbo, kad juos būtų
galima naudoti. Be to, įstaigos nėra labai entuziastingai nusiteikusios atvirų
duomenų klausimų. Žinoma, dėl entuziazmo, pasitaiko išimčių.&lt;/p&gt;
&lt;p&gt;Šiuo metu svarstomas variantas, kad duomenis turėtų savarankiškai atverti
pačios įstaigos. Manau tai yra labai prasta mintis. Pilnas duomenų atvėrimas
įskaitant inventorizaciją, nuasmeninimą ir transformavimą yra rankinis ir daug
laiko reikalaujantis darbas, kurį gali atlikti tik kompetentingi specialistai.&lt;/p&gt;
&lt;p&gt;Duomenų atvėrimą turėtų atlikti išoriniai paslaugų tiekėjai, dirbdami kartu su
įstaigomis. Tokius paslaugų tiekėjus reikėtų samdyti pagal valandinius
įkainius, kadangi duomenų atvėrimas nėra aiškiai apibrėžtas ir baigtinis
darbas. Visus tiekėjus dirbančius prie duomenų atvėrimo turėtų kontroliuoti
viena komanda, kurios tikslas užtikrinti, kad būtų laikomasi vieningų
standartų.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-atverimo-organizavimas"&gt;
&lt;h2&gt;Duomenų atvėrimo organizavimas&lt;/h2&gt;
&lt;p&gt;Visą duomenų atvėrimo procesą turėtų koordinuoti viena dedikuota komanda. Tokia
dedikuota komanda vertintu skirtingų tiekėjų atliktą darbą, grąžintų tiekėjui
taisyti, jei randa klaidų ar neatitikimų. Dedikuota komanda užtikrintu, kad
visos tiekėjų komandos, darbus atliktų kokybiškai ir taikant vieningus
standartus.&lt;/p&gt;
&lt;p&gt;Duomenų atvėrimo skriptai turėtų būti atviro kodo. Dažnai duomenų naudotojai
randa duomenyse klaidą, tačiau nežino klaidos šaltinio. Turinti visą duomenų
transformacijos istoriją ir atvėrimo skriptus, duomenų naudotojas gali tiksliai
identifikuoti klaidos šaltinį ir pasiūlyti pataisymą.&lt;/p&gt;
&lt;p&gt;Didelių projektų naudojančių atvirus duomenis komandos greičiausiai bus
suinteresuotos pačios apsiimti duomenų atvėrimu, kurių jiems reikia. Tokių
komandų darbas gali būtį kompensuojamas arba skatinamas iš atvirų duomenų
projekto biudžeto ir koordinuojamas dedikuotos komandos.&lt;/p&gt;
&lt;p&gt;Dažnai, visiškai nesusijusiems duomenų rinkiniams tinka tie patys duomenų
transformavimo algoritmai. Todėl turint bendrą atviro kodo repozitoriją, galima
dalintis kodu.&lt;/p&gt;
&lt;p&gt;Įstaigos, kurių duomenys inventorizuojami ir atveriami, turėtų bendradarbiauti
su duomenis atveriančiomis komandomis ir padėti toms komandoms gauti visą
reikalingą informaciją ar pavyzdinius duomenis.&lt;/p&gt;
&lt;p&gt;Atrodo, kad turint didelį skaičių tiekėjų, bus labai daug biurokratijos ir
viešųjų pirkimų. Manau tai galima išspręsti vienu pirkimu, įsigyjant dedikuotos
komandos paslaugas, kuri būtų atsakinga už subkontraktorių paiešką ir jų
paslaugų pirkimu ir atliekamo darbo priežiūra. Tik tokiu atveju, reikėtų
reikalauti, kad būtų pateiktos tikslios ataskaitos (atvirų duomenų pavidalu
žinoma), kur, kam ir kodėl buvo išleisti pinigai. Pinigai skirti duomenims
atverti galėtų matytis atvirų duomenų stebėsenos sistemoje, kurioje būtų galima
rodyti koks tiekėjas, kiek pinigų sunaudojo atverdamas konkretų duomenų
rinkinį. Tai būtų visiškai skaidru.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-inventorizavimas"&gt;
&lt;h2&gt;Duomenų inventorizavimas&lt;/h2&gt;
&lt;p&gt;Duomenų inventorizavimas yra toks procesas, kurio metu valstybinės įstaigos
surašo, kokius duomenis turi. Duomenis galima inventorizuoti įvairiais detalumo
lygiais:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Rinkinys&lt;/strong&gt;. Galima abstrakčiai nurodyti duomenų rinkinį, kurį sudaro grupė
įvairių duomenų rinkmenų. Pavyzdžiui „Seimo balsavimų duomenų rinkinys“ į
kurį įeitų seimo narių, kadencijų, sesijų, posėdžių, registracijų,
stenogramų, balsavimų ir teisės aktų duomenų rinkmenos.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Rinkmena&lt;/strong&gt;. Duomenų rinkinys sudarytas iš duomenų rinkmenų. Rinkmena yra
viena lentelė, vienas duomenų failas ar vienos rūšies objektų rinkinys.
Pavyzdžiui seimo narių sąrašas būtų konkreti duomenų rinkmena.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Laukas&lt;/strong&gt;. Vieną rinkmeną sudaro laukai, lentelės stulpeliai arba objekto
savybės. Pavyzdžiui seimo nario vardas, pavardė, frakcija, mandato pradžios
ir pabaigos data ir t.t.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Tipas&lt;/strong&gt;. Laukai turi duomenų reikšmių tipus, pavyzdžiui vardas yra tam
tikro ilgio simbolių eilutė, mandato pradžios data yra datos tipo ir pan.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Ryšys&lt;/strong&gt;. Skirtingi duomenų objektai gali būti susieti ryšiais tarp objektų,
pavyzdžiui seimo nario objektas gali būti susietas su frakcijos objektu, abu
šie objektai priklauso skirtingoms duomenų rinkmenoms, bet turint vieningus
objektų identifikatorius, rinkmenas nesunkiai galima sujungti ir gauti naujas
išvestines rinkmenas.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Žodynai&lt;/strong&gt;. Objektų ir laukų pavadinimai skirtinguose duomenų rinkiniuose
gali būti skirtingi. Šie skirtingi pavadinimai gali būti susieti su bendrai
naudojamais arba viešai publikuojamais žodynais. Pavyzdžiui lauko vardas
pavadinimas gali būti susietas su foaf:firstName.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Klasifikavimas&lt;/strong&gt;. Žodynuose esantys objektai ir laukai gali būti
klasifikuojami pagal bendrai naudojamą klasių hierarchiją. Pavyzdžiui, seimo
narį galima priskirti asmens klasei, asmenį galima priskirti žinduolio klasei
ir t.t.  Toks klasifikavimas suteikia daugiau galimybių valdyti duomenis ir
išplėsti duomenų panaudojimo galimybes.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inventorizavimą reikėtų pradėti nuo mažiausio detalumo ir atsižvelgiant į
prioritetus didinti detalumą arba didinti duomenų brandos lygį.&lt;/p&gt;
&lt;p&gt;Duomenų inventorizavimą galima pradėti naudojant paprasčiausias &lt;a class="reference external" href="https://github.com/ivpk/metadata"&gt;skaičiuoklės
lenteles&lt;/a&gt; arba &lt;a class="reference external" href="https://github.com/sirex/atviru-duomenu-poreikio-tyrimas"&gt;duomenų aprašymo kalbas&lt;/a&gt;, tokias kaip JSON ar YAML. Vėliau,
turint pakankamai daug pavyzdžių, kaip turėtų būti inventorizuojami duomenys,
galima pradėti kurti patogesnę naudotoją sąsają duomenų inventorizavimui.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="prasymai-duomenims-gauti"&gt;
&lt;h2&gt;Prašymai duomenims gauti&lt;/h2&gt;
&lt;p&gt;Projektų kūrėjai, norėdami gauti jiems reikalingus duomenis turėtų teikti
prašymus duomenims gauti. Prašymai būtų pateikiami ne A4 lapo dokumentais su
tekstu, o kompiuteriui suprantamu pavyzdžiui JSON arba YAML formatu. Iš bėdos,
galima prašymus pateikti ir skaičiuoklės lentelėmis, aiškiai susitarus dėl
lentelės struktūros.&lt;/p&gt;
&lt;p&gt;Prašymuose, projektų kūrėjai turėtų tiksliai surašyti, kokių duomenų laukų
projektui. Prašymai duomenims gauti ir inventorizacijos aprašai turėtų naudoti
suderinama formatą, kad būtų galima palyginti inventorizuotus ir prašomus
duomenis. Teikiant prašymus duomenims gauti, prašymas, kaip ir inventorizacijos
atveju, iš pradžių gali būti pateikiamas mažesniu detalumu, o vėliau esant
reikalui detalumas gali būti didinamas.&lt;/p&gt;
&lt;p&gt;Prašyme reikėtų nurodyti projektui reikalingus duomenis, o ne tai, kokius
duomenis kaupia valstybinės įstaigos. Jei prašomų duomenų nėra inventorizacijos
įrašuose arba įstaiga tiesiog tokių duomenų nekaupia, tada tai turėtų būti
ženklas, kad gal būt tokius duomenis reikėtų pradėti kaupti, nes yra poreikis
juos naudoti. Yra labai daug projektams reikalingų duomenų, kurių valstybinės
įstaigos nekaupia, nors galėtų kaupti. Valstybinėse įstaigose labai daug
duomenų yra „paslėpta“ A4 lapuose.&lt;/p&gt;
&lt;p&gt;Vienas iš pavyzdžių apie nekaupiamus duomenis galėtų būti teisės aktų duomenys.
Šiuo metu teisės aktai yra spausdinimui paruošti dokumentai, kuriuose nėra
sužymėta kokią funkcija dokumente atlieka atskiros pastraipos ar atskiri teksto
fragmentai. Teisės aktų keitimo projektų tekste nėra mašininiu būdu nuskaitomos
informacijos apie tai, kas tiksliai keičiama. Tokie duomenys yra labai naudingi
įvairiuose taikymuose, tačiau jie nėra kaupiami.&lt;/p&gt;
&lt;p&gt;Baiminamasi, kad atvirų duomenų naudotojų bendruomenė yra labai nedidelė ir
labai pasyvi, dėl to niekas neteiks prašymu. Manau dėl to tikrai nereikėtų
nerimauti, svarbu sudaryti priemones pateikti prašymus duomenims gauti ir
tinkamai apie tai informuoti visuomenę. Reikėtų aiškiai nurodyti, kad duomenys
bus atveriami prašymų skaičiaus prioriteto tvarka. Jei atsiras, bent vienas
prašymas, reiškia prioritetas yra aiškus, kadangi yra konkretus suinteresuotas
asmuo, kuris tuos duomenis planuoja naudoti. Jei prašymo nėra, tada nėra jokių
garantijų, kad atvėrus duomenis, kas nors juos naudos.&lt;/p&gt;
&lt;p&gt;Šiuo metu žiniasklaidos priemonėse galima rasti keletą užsakomųjų straipsnių,
kurie supažindina visuomenę su atvirais duomenimis. Problema yra ta, kad
duomenų kol kas nėra ir tokie straipsniai galėtų informuoti apie tvarką, kaip
teikti prašymus duomenims gauti. Jei tai bus aiškiai iškomunikuota, prašymų
tikrai netrūks.&lt;/p&gt;
&lt;p&gt;Teikiant prašymus reikėtų įvertinti esamą/numatomą projekto naudotojų skaičių
ir esamą/numatomą pelną ar kitus rodiklius. Tokiu būdu atsiras galimybė realiu
laiku paskaičiuoti, kiek pelno generuoja atviri duomenys ir kiek naudotojų
naudoja paslaugas atvirų duomenų dėka. Papildomai, galima įvertinti ateities
pelno ir naudotojų prognozes. Tokie rodikliai gali būti naudojami tiksliau
įvertinti atvertinų duomenų prioritetą. Duomenys reikalingi didelio masto ir
poveikio projektui turėtų būti aukštesnio prioriteto, nei vieno asmens prašymas
gauti duomenis asmeniniams tikslams.&lt;/p&gt;
&lt;p&gt;Vyriausybė taip pat turėtų teikti prašymus gauti duomenis, vadovaujantis turima
strategija ir veiklos sritimis. Strategija ir veiklos sritys yra mažo detalumo,
todėl prašyme reikėtų tiksliau aprašyti galimus duomenų panaudojimo atvejus
kiekvienoje srityje ir sužymėti, kokių konkrečių duomenų laukų reikėtų šiems
projektams. Tokiu būdu, net ir neturint prašymų duomenims gauti, būtų galima
vadovautis strateginiais prioritetais.&lt;/p&gt;
&lt;p&gt;Atveriant duomenis prioritetą reikėtų teikti didesnį detalumą turintiems
prašymams.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bendrasis-zodynas"&gt;
&lt;h2&gt;Bendrasis žodynas&lt;/h2&gt;
&lt;p&gt;Kadangi skirtingos įstaigos ir skirtingų projektų autoriai naudoja skirtingus
pavadinimus tam pačiam dalykui pavadinti reikia turėti bendrąjį žodyną, kad
būtų įmanoma susikalbėti, tiek žmogiškąja tiek kompiuterine prasme.&lt;/p&gt;
&lt;p&gt;Turint inventorizacijos ir prašymų duomenis, juos reikėtų „išversti“ iš vidinės
terminologijos į bendrojo žodyno terminologiją. Pavyzdžiui, turi būti galimybė
nurodyti, kad inventorizacijos duomenyse naudojamas fname laukas yra tas pats,
kas vardas. Tokiu būdu, atsiranda galimybė įvertinti poreikį automatiniu būdu,
siejant inventorizacijos ir prašymų duomenis per bendrąjį žodyną.&lt;/p&gt;
&lt;p&gt;Bendrojo žodyno nereikėtų painioti su viešai skelbiamais žodynais, tokias kaip
&lt;a class="reference external" href="https://www.w3.org/TR/vocab-dcat/"&gt;DCAT&lt;/a&gt;, &lt;a class="reference external" href="http://xmlns.com/foaf/spec/"&gt;FOAF&lt;/a&gt;, &lt;a class="reference external" href="http://dublincore.org/"&gt;Dublin Core&lt;/a&gt; ir pan. Bendrasis žodynas yra skirtas tik vidinėms
inventorizacijos ir prašymų teikimo reikmėms. Viešieji žodynai dengia
specifines ir siauras sritis. Tinkamų viešųjų žodynų paieška ir susiejimas yra
daug laiko reikalaujantis darbas, be to viešieji žodynai dengia tik nedidelę
dalį visų terminų. Kai kurie viešieji žodynai dengia tuos pačius terminus,
todėl reikia atsirinkti kurį žodyną naudoti.&lt;/p&gt;
&lt;p&gt;Kadangi darbas su viešaisiais žodynais yra gan sudėtingas ir reikalauja daug
laiko, geriausia naudoti tik vidinėms reikmėms skirtą bendrąjį žodyną, kuris
būtų kuriamas ir pildomas bendromis pastangomis. Vėliau siekiant didesnės
integracijos, bendrasis žodynas gali būti susietas ir su viešaisiais žodynas.&lt;/p&gt;
&lt;p&gt;Atliekant inventorizaciją ir teikiant prašymus, reikėtų vadovautis bendruoju
žodynu.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-nuasmeninimas"&gt;
&lt;h2&gt;Duomenų nuasmeninimas&lt;/h2&gt;
&lt;p&gt;Duomenų nuasmeninimą galima iš dalies automatizuoti turinti pakankamai detalią
inventorizaciją. Jei inventorizacijos metu yra nurodyta kurie laukai siejasi su
asmens duomenimis, tada nesunkiai galima įvertinti, kokie duomenys ir kaip
tiksliai gali identifikuoti asmenį. Papildomai, pasitelkus duomenų analizę,
galima tiksliai įvertinti ar siejant duomenis galima identifikuoti asmenį ar
ne.&lt;/p&gt;
&lt;p&gt;Jei automatinės priemonės aptinka, kad asmuo gali būti identifikuotas, tada
galima atverti apibendrintus duomenis, pateikiant vidurkius, medianas,
standartinį nuokrypį ir pan.&lt;/p&gt;
&lt;p&gt;Ne viską reikia nuasmeninti. Yra išimčių, kada asmeniniai duomenys gali būti
viešinami. Pavyzdžiui, viešieji asmenys, tokie kaip Seimo nariai privalo
viešinti tam tikrą informaciją apie save. Todėl tam tikrais atvejais,
pavyzdžiui dalyvaujant rinkimuose, asmenys sutinka viešinti tam tikrus
asmeninius duomenis, kurie gali būti atverti.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-surinkimas"&gt;
&lt;h2&gt;Duomenų surinkimas&lt;/h2&gt;
&lt;p&gt;Naudojantis inventorizacijos duomenimis, jei inventorizacija yra pakankamai
detali, tada dalis duomenų atvėrimo darbo jau padaryta. Jei inventorizacijos
metu yra surašyti tikslūs laukų pavadinimai ir reikšmių tipai, laukai yra
sužymėti nuasmeninimo žymėmis, galima automatiškai vykdyti duomenų ištraukimą
iš duomenų bazių ar kitų saugyklų. Nuasmeninti duomenys turi būti periodiškai
surenkami ir išsaugomi atskiroje duomenų saugykloje. To reikia tam, kad
netrikdyti veikiančių informacinių sistemų darbo, tuo atveju jei atvirų duomenų
naudojimas yra gan intensyvus.&lt;/p&gt;
&lt;p&gt;Turi būti mechanizmai, kurie padeda unikaliai identifikuoti atskirus objektus.
Tokiu būdu galima užtikrinti efektyvesnį duomenų surinkimą, atnaujinant
duomenis tik tada, kai jie pasikeitė.&lt;/p&gt;
&lt;p&gt;Duomenų objektai turėtų turėti žymes nurodančias, iš kur gauti duomenys, kada
jie gauti, kada pasikeitė, kada paskutinį kartą buvo atnaujinti. Šie
metaduomenys yra labai svarbūs sprendžiant įvairius duomenų surinkimo
sutrikimus.&lt;/p&gt;
&lt;p&gt;Tais atvejais, kai tiekėjo duomenų srautas yra labai didelis, geriausia duomenų
nekopijuoti į tarpinę saugyklą, o pateikti tiesioginę prieigą prie pirminės
duomenų saugyklos, jei įmanoma. Tokiu būdu bus užtikrinta realaus laiko prieiga
prie duomenų. Jei duomenys būtų kopijuojami į tarpinę saugyklą, tada būtų
uždelsimas teikiant duomenis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-transformavimas"&gt;
&lt;h2&gt;Duomenų transformavimas&lt;/h2&gt;
&lt;p&gt;Pirminiai duomenys dažnai būna pritaikyti tam tikrai siaurai taikymo sričiai.
Pavyzdžiui, adreso laukas gali būti paprastos tekstinės formos, be koordinačių
žemėlapyje. Tas pats adresas gali būti užrašytas įvairiomis formomis. Toks
pateikimas įstaigos poreikius tenkina, kadangi jie nedaro duomenų atvaizdavimo
žemėlapyje, tačiau atvirų duomenų naudotojai tokius duomenis vertins, kaip žemo
pirmo brandos lygio, nestruktūruotus duomenis. Tam, kad pakelti tokių duomenų
brandos lygį, reikia transformuoti adreso tekstinę reikšmę į koordinates
žemėlapyje ir susieti su konkrečiais vektorinių objektų identifikatoriais.&lt;/p&gt;
&lt;p&gt;Toks duomenų transformavimas yra labai sudėtingas ir rankinis procesas,
reikalaujantis daug laiko. Būtina atsižvelgti į poreikio duomenis, tam, kad
laikas skirtas transformuojant duomenis būtų skirtas tik tuo atveju, jei
duomenų tikrai reikia (t.y. jų prašo bent vienas projektas).&lt;/p&gt;
&lt;p&gt;Atliekant duomenų transformavimą, reikėtų išlaikyti originalius pirminius
duomenis, kurių pagrindu buvo atlikta transformacija. Transformuotus duomenis
reikėtų sužymėti žymėmis, nurodančiomis duomenų šaltinį, transformavimo
algoritmą, klaidas jei tokių buvo transformavimo metu.&lt;/p&gt;
&lt;p&gt;Išlaikant pirminius duomenis, paliekama galimybė greičiau surasti problemines
vietas ir pataisyti transformaciją tik tose vietose, kuriose ji veikia blogai.
Dažnai didesnio duomenų kiekio transformavimas gali trukti valandas ar net
dienas. Pavyzdžiui teksto išrinkimas iš įvairių formatų dokumentų yra gan lėtas
procesas ir gali trukti, gan ligai. Jei vėliau iš to teksto daromos dar kelios
transformacijos, labai naudinga turėti pirminį šaltinį, kai pastebima klaida
paskutiniame transformacijos žingsnyje, kad nereikėtų visko kartoti nuo
pradžių.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-susiejimas"&gt;
&lt;h2&gt;Duomenų susiejimas&lt;/h2&gt;
&lt;p&gt;Duomenys surinkti iš įvairių nepriklausomų šaltinių neturi aiškių globalių
identifikatorių. Todėl, norint turėti galimybę jungti nesusijusių šaltinių
duomenis, reikia duomenims suteikti globalius identifikatorius ir susieti
duomenis taikant įvairias palyginimo ir spėjimo operacijas.&lt;/p&gt;
&lt;p&gt;Susiejimas dažnai daromas naudojant vardus, pavadinimus ir kitus kriterijus,
kurie unikaliai identifikuoja objektą. Ne visus duomenis įmanoma susieti
automatizuotu būdu, kartais duomenys neturi unikalių bendrai naudojamų
reikšmių, pavyzdžiui įmonių pavadinimai gali kartotis, gali būti užrašomi
skirtingomis formomis ir pan. Tokiu atveju padeda turėti kanoninį pavadinimų
sąrašą, kuriuo vadovaujantis atliekamas susiejimas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-tikrinimas"&gt;
&lt;h2&gt;Duomenų tikrinimas&lt;/h2&gt;
&lt;p&gt;Yra daugybė vietų, kuriose duomenys galim būti iškraipyti. Duomenis gali būti
klaidingai suvesti, klaidingai transformuoti, klaidingai susieti ir t.t.&lt;/p&gt;
&lt;p&gt;Kad užtikrinti atvertų duomenų kokybę, atvertus duomenis reikia tikrinti.
Tikrinimui reikia aprašyti taisykles, tokias, kaip amžius turi būti teigiamas
skaičius ir mažesnis už vyriausią gyvenantį žmogų. Datos formatas, turi
atitikti vieningai naudojamą datos formatą. Koordinatės turi būti apibrėžto
regiono ribose. Tokio pobūdžio patikrinimai padeda rasti įvairias klaidas ir
užtikrina duomenų kokybę.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="duomenu-sinchronizavimas"&gt;
&lt;h2&gt;Duomenų sinchronizavimas&lt;/h2&gt;
&lt;p&gt;Dažnai duomenų naudotojai daro atvirų duomenų kopijas savo vidinėse duomenų
bazėse. Darant tokias kopijas, tam tikrais laiko intervalais tikrinama ar nėra
naujų duomenų. Kad toks duomenų sinchronizavimas būtų kuo sklandesnis, visi
atverti duomenys turėtų turėti monotoniškai didėjantį pakeitimo numerį arba
kursorių. Turinti duomenų keitimo numerį, duomenų naudotojas gali išsisaugoti
paskutinio sinchronizavimo pakeitimo numerį ir toliau atvirų duomenų platformos
užklausti tik naujų duomenų, nuo nurodyto paskutinio pakeitimo numerio.&lt;/p&gt;
&lt;p&gt;Toks srautinis duomenų pateikimas išsprendžia gan didelę nuolatinio duomenų
sinchronizavimo problemą, ypač tais atvejais, kai duomenų kiekis yra didelis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="rankinis-duomenu-suvedimas-ir-taisymas"&gt;
&lt;h2&gt;Rankinis duomenų suvedimas ir taisymas&lt;/h2&gt;
&lt;p&gt;Deja ne visais atvejais įmanoma arba racionalu daryti automatinį duomenų
transformavimą arba valymą. Kai kuriais duomenys nėra kaupiami, todėl reikia
juos suvesti rankiniu būdu. Yra atvejų, kai duomenys yra labai išbarstyti ir
tiesiog suvesti juos rankiniu būdu yra paprasčiau ir greičiau. Kartais
pasitaiko vienetinės išimtinės situacijos, kurias paprasčiau pataisyti rankiniu
būdu.&lt;/p&gt;
&lt;p&gt;Visais tokiais atvejai reikalinga priemonė, kuri leistų peržiūrėti vieną
duomenų įrašą ir leistų pranešti apie klaidą arba tiesiog pataisyti reikšmę
rankiniu būdu.&lt;/p&gt;
&lt;p&gt;Panašus projektas, kuris leidžia tai daryti yra WikiData. Panašus principas
galėtų būti taikomas ir atvirų duomenų portale. Yra daug atvejų, kur duomenys
tiesiog nekaupiami struktūruotu pavidalu ir yra išbarstyti po skirtingas
įstaigas. Vienas toks pavyzdys yra įstaigos būstinių adresai arba darbuotojų
kontaktai. Visos įstaigos galėtu suvesti savo būstinių adresus ir darbuotojų
kontaktus vienoje vietoje, atvirų duomenų portale.&lt;/p&gt;
&lt;p&gt;Lietuvos istorijos archyvas turi daug skaitmenintų rankraščių, kurie pateikiami
kaip paveiksliukai. Tokiems paveiksliukams, galima būtų suteikti galimybę
perrašyti tekstą. Metrikų knygų paveiksliukus galima būtų perrašyti
struktūruotu pavidalu, nurodant gimimo, santuokos, mirties datas, vardus,
pavardes ir giminystės ryšius.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="esminiu-veiklos-rodikliu-stebesena"&gt;
&lt;h2&gt;Esminių veiklos rodiklių stebėsena&lt;/h2&gt;
&lt;p&gt;Remiantis inventorizacijos ir prašymų duomenimis galėtų būti pateiktas visų
laukų sąrašas. Tame sąraše galėtų būti rodoma, pateiktų prašymų skaičius,
numatyta atvėrimo data, panaudotas finansavimas, atsakingas tiekėjas už
atvėrimą, įstaigos teikiančios duomenis ir pan. Jei duomenys jau atverti, turi
būti rodoma informacija, kada duomenys buvo atnaujinti, ar atnaujinimo metu
nebuvo klaidų, kiek kartų duomenys yra pasisiųsti ar kiek naudotojų nuolat
atlieka duomenų sinchronizavimą, kiek kainavo duomenų atvėrimas.&lt;/p&gt;
&lt;p&gt;Visa tai turėtų būti rūšiuojama, pagal prašymų skaičių, pagal esamą/numatomą
pelną, naudotojų skaičių, atvėrimo kainą.&lt;/p&gt;
&lt;p&gt;Jei duomenys yra išvestiniai, turi būti nuoroda į šaltinį, iš kurių duomenys
buvo išvesti.&lt;/p&gt;
&lt;p&gt;Galėtų būti rodomi statistiniai duomenys apie tai, koks procentas prašymų gauti
duomenis yra patenkintas, kiek dar liko atverti duomenų, kiek liko skirto
finansavimo pinigų, kokie teikiamų duomenų brandos lygiai. Galima apskaičiuoti
kokių įstaigų duomenų labiausiai prašoma ir kiek jų yra atverta. Galima realiu
laiku rodyti bendrą atvirų duomenų generuojamą pelną ir naudotojų skaičių.
Galima įvertinti ar išleisti pinigai duomenims atverti jau atsipirko ar dar ne.&lt;/p&gt;
&lt;p&gt;Duomenų naudotojai, naudojantis duomenų portalo API galėtų teikti atsiliepimus
apie naudojamus duomenis. Galėtų informuoti, kiek projektas turi naudotojų,
kiek pelno generuoja, galėtų informuoti apie klaidas ir pan.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="atviru-duomenu-metodika"&gt;
&lt;h2&gt;Atvirų duomenų metodika&lt;/h2&gt;
&lt;p&gt;Įgaunant vis daugiau patirties atveriant duomenis, galima pradėti rašyti ir
nuolat atnaujinti atvirų duomenų metodiką. Galima dokumentuoti naudojamus
įrankius, galima susitarti kaip tiksliai inventorizuojami duomenys ir kokie
metaduomenys turi būti pateikiami inventorizacijos metu.&lt;/p&gt;
&lt;p&gt;Metodika turėtų būti ne el. paštu siuntinėjamas keliasdešimt lapų apimties
dokumentas, o aiški ir patogi naudoti, nuolat atnaujinama dokumentacija, su
nuorodomis ir versijomis. Dokumentacija galėtų turėti mokomąją medžiagą, kur
būtų pateikti konkretūs atvėrimo pavyzdžiai su visomis detalėmis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="atviru-duomenu-vitrina"&gt;
&lt;h2&gt;Atvirų duomenų vitrina&lt;/h2&gt;
&lt;p&gt;Viską, kas iki šiol yra paminėta yra techniniai dalykai, sunkiai suprantami
plačiajai visuomenės daliai. Tikriausiai nedaugeliui yra aišku, kas yra duomenų
schema ir rinkinių laukai, jų tipai ir ryšiai tarp rinkinių.&lt;/p&gt;
&lt;p&gt;Todėl atskirai nuo duomenų atvėrimo virtuvės atverti duomenys galėtų būti
demonstruojami atvirų duomenų vitrinose. Vitrinose, duomenų rinkiniai turėtų
būti aiškiai aprašyti, sužymėti žymėmis, suskirstyti į kategorijas ir pan.
Turėtų veikti duomenų rinkinių paieška.&lt;/p&gt;
&lt;p&gt;Duomenų vitrina turėtų būti suderinama su DCAT žodynų, kad būtų galimybė
keistis duomenimis su kitais duomenų portalais, tokiais kaip Europos atvirų
duomenų portalas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="finansu-paskirstymas"&gt;
&lt;h2&gt;Finansų paskirstymas&lt;/h2&gt;
&lt;p&gt;Jau &lt;a class="reference external" href="http://opendata.lt/"&gt;ne kartą&lt;/a&gt; yra &lt;a class="reference external" href="http://ckan.opendata.gov.lt/"&gt;pademonstruota&lt;/a&gt;, kad paleisti duomenų vitriną &lt;a class="reference external" href="https://ckan.org/"&gt;CKAN&lt;/a&gt; pagrindu
trunka vidutiniškai vieną savaitgalį. Mano vertinimu, norint padaryti duomenų
perkėlimą iš senos &lt;a class="reference external" href="http://opendata.gov.lt/"&gt;IVPK IRS&lt;/a&gt; į &lt;a class="reference external" href="http://ckan.opendata.gov.lt/"&gt;CKAN&lt;/a&gt;, prijungti arba sukurti trūkstamas
funkcijas, padaryti projekto CI/CD, patalpinti serveryje ir pan. gali prireikti
apie 3 mėnesių vieno žmogaus darbo, ribojant apetitą naujoms funkcijoms ir
apsiribojant tuo, ką turi CKAN. Vertinant pinigais tai būtų 65 €/h × 8 h/d × 20
d/mėn × 3 mėn = 0,0312 mln. € arba 1,2% skirto &lt;a class="reference external" href="https://ivpk.lrv.lt/lt/apie-ivpk/vykdomi-projektai/atviru-duomenu-platformos-igalinancios-efektyvu-viesojo-sektoriaus-informacijos-pakartotini-panaudojima-verslui-ir-jos-valdymo-irankiu-sukurimas"&gt;2.6 mln. €&lt;/a&gt; finansavimo. Mano
vertinimu, duomenų vitrina yra mažiausiai svarbus dalykas šiame projekte.
Žymiai svarbesnis dalykas yra duomenys, jei nėra duomenų, tai nėra ir ką dėti į
vitriną.&lt;/p&gt;
&lt;p&gt;Kita duomenų atvėrimo vidinės virtuvės dalis yra kiek sudėtingesnė, kadangi
šiam reikalui jau sukurto įrankio nėra. Yra daug atskirų įrankių duomenų
surinkimui, transformavimui, pateikimui ir pan. Bet nėra tokio, dalyko, kuris
visą tai susietų į vieną vietą. Duomenų inventorizacijos, prašymų teikimo,
stebėsenos ir duomenų suvedimo ir keitimo naudotojo sąsajai sukurti, mano
vertinimu gali reikėti 12 mėnesių vieno žmogaus darbo. Pinigais tai gautųsi
apie 65 €/h × 8 h/d × 20 d/mėn × 12 mėn = 0,1248 mln. € arba 4,8% skirto
finansavimo.&lt;/p&gt;
&lt;p&gt;Visą tai paskaičiavus, duomenų atvėrimui liktų 2,4 mln. €.&lt;/p&gt;
&lt;p&gt;Dėl pačio duomenų atvėrimo, mano vertinimu, vidutiniškai, vienam žmogui, norint
atverti vieną duomenų rinkinį įskaitant pilną detalią inventorizaciją,
nuasmeninimą, transformaciją ir susiejimą, gali reikėti vieno mėnesio laiko.
Kai kurie atvejai gali būti paprastesni, kiti sudėtingesni, bet manau
vidutiniškai tai būtų apie mėnuo laiko. Šiuo metu IVPK IRS yra registruota apie
700 duomenų rinkinių. Visą tai pavertus pinigais, gautųsi 65 €/h × 8 h/d × 20
d/mėn × 1 mėn × ~700 rinkmenų = ~7,3 mln. €. Kaip ir minėjau, duomenų atvėrimas
yra daug laiko reikalaujantis, rankinis darbas ir visiems duomenis atverti,
skirto finansavimo tikrai neužteks. Tačiau finansavimo turėtų užtekti, norint
atverti bent 30% aukščiausio prioriteto duomenų, o tai yra labai daug. 30%
aukščiausio prioriteto duomenų, ko gero turėtų pilnai patenkinti visus
pateiktus prašymus duomenims gauti, darant prielaidą, kad pradžioje nebus labai
didelis atvirų duomenų naudojimo aktyvumas.&lt;/p&gt;
&lt;p&gt;Dar yra viena svarbi kainos dedamoji, tai vieta serveryje, kur bus saugomi
duomenys ir vykdomas duomenų apdorojimas. Tarkime, 100TB duomenų saugykla,
sudaryta iš kelių virtualių serverių tikriausiai kainuos apie 6000 € per metus.
Žiūrint dešimt metų į priekį, tai kainuotų 60 000 € per metus arba 0,06 mln. €
arba 2,3% viso finansavimo 10-čiai metų.&lt;/p&gt;
&lt;p&gt;Tikriausiai, kažkiek pinigų reikėtų teisininkų paslaugoms. Dalis valstybinių
įstaigų valdančių didelius duomenų registrus nenusiteikusios dalintis
duomenimis, kadangi iš duomenų gerai uždirba. Tokiais atvejais, bet teisininkų
pagalbos matyt išsiversti nepavyks.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="isvados-arba-tl-dr"&gt;
&lt;h2&gt;Išvados arba TL;DR&lt;/h2&gt;
&lt;p&gt;Stengiausi viską surašyti glaustai, bet gavosi daug temų ir daug teksto, todėl
išvadose rasite labai apibendrintą variantą.&lt;/p&gt;
&lt;p&gt;Esminės vietos, kurias norėjau aprašyti yra šios:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Darbų atlikimo tvarka&lt;/strong&gt;. Šiuo metu projektas vykdomas atskirais etapais
tokia eilės tvarka: projekto nuostatos ir partnerių sutinkančių atverti
duomenis pasirinkimas, metodikos rengimas, techninė specifika portalui,
portalo įgyvendinimas pagal specifikaciją ir paskutinėje vietoje pasirinktų
partnerių duomenų atvėrimas. Tuo tarpu mano siūlymas nedaryti tokio griežto
suskirstymo etapais, o koncentruotis ties duomenų atvėrimu ir pakeliui
pasidaryti viską, ko reikia duomenų atvėrimui, daryti tik tai ko tikrai
reikia, be išankstinių teorinių metodikų ar specifikacijų.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Darbų apimtis&lt;/strong&gt;. Įvairiuose dokumentuose daug dėmesio skirta duomenų
vitrinai, kuri pagal mano skaičiavimus yra mažiausios apimties darbas visame
šiame projekte. Todėl norėjau perteikti skaičiais realų atskirų projektų
dalių svorį.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Atveriamų duomenų prioriteto svarba&lt;/strong&gt;. Noriu pabrėžti, kad labai svarbu ne
kiekybė, o atveriamų duomenų kokybė. Jei bus atverta tik pusė projektui
reikalingų duomenų, projektas negalės būti pabaigtas. Todėl labai svarbu
atverti tuos duomenis, kurių reikia realiems projektams.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Duomenų detalumas&lt;/strong&gt;. Dažnai, kalbant apie duomenis, vertinamos labai
abstrakčios duomenų kategorijos, tokios kaip geografiniai duomenys,
transporto duomenys ir pan. Kalbant apie duomenis, reikia kalbėti apie
duomenų laukus, bent jau atliekant inventorizaciją ir priimant prašymus
duomenims gauti.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Esminiai veiklos rodikliai&lt;/strong&gt;. Norint suprasti ar projektas buvo sėkmingas
ar ne, reikia galimybės realiu laiku stebėti esminius veiklos rodiklius.
Tokiu būdu galima įsivertinti ar projektas pasiekė kokius nors rezultatus ar
ne.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Skaidrumas&lt;/strong&gt;. Šiam projektui skirtų pinigų panaudojimo atvejus galima taip
pat interpretuoti kaip duomenis ir integruoti į sistemą. Tokiu būdu bus
tiksliai matyti kas kiek kainavo ir kodėl.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Manau skirtas 2,6 mln. € finansavimas tikrai gali stipriai stumtelėti atvirų
duomenų situaciją Lietuvoje ir nesunkiai galime tapti pavyzdys kitoms šalims.
Bet visą tai yra įmanoma, tik tinkamai organizuojant darbus ir leidžiant
pinigus tik ten, kur jų tikrai reikia.&lt;/p&gt;
&lt;p&gt;Nesilaikant geros projekto disciplinos, galima labai greitai išleisti visus
pinigus dalykams kurie yra mažos vertės ir nelabai kam reikalingi. Reikia
tikėtis, kad taip nenutiks.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>openddata</category><guid>https://sirex.lt/posts/2018/kaip-galetu-atrodyti-lietuvos-atviru-duomenu-portalas/</guid><pubDate>Tue, 04 Sep 2018 21:00:00 GMT</pubDate></item><item><title>Hello ASGI</title><link>https://sirex.lt/posts/2018/hello-asgi/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Python programming language has &lt;a class="reference external" href="https://www.python.org/dev/peps/pep-0333/"&gt;WSGI&lt;/a&gt; (Web Server Gateway Interface) standard,
where web servers can talk to apps using same standartized protocol. Simplest
WSGI application looks like this:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wsgi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-4"&gt;&lt;/a&gt;    &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'200 OK'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-5"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Content-Type'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'application/json'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-6"&gt;&lt;/a&gt;    &lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_307e6bd36f15499b9c3914ac8c17e178-7"&gt;&lt;/a&gt;    &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;repr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Response:&lt;/p&gt;
&lt;pre class="code json"&gt;&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-2"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.errors"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"&amp;lt;gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x7fe381c1aef0&amp;gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-3"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.version"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-4"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.multithread"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-5"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.multiprocess"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-6"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.run_once"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-7"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.file_wrapper"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"&amp;lt;class 'gunicorn.http.wsgi.FileWrapper'&amp;gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-8"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"SERVER_SOFTWARE"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"gunicorn/19.7.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-9"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.input"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"&amp;lt;gunicorn.http.body.Body object at 0x7fe381c1af60&amp;gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-10"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"gunicorn.socket"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"&amp;lt;socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000), raddr=('127.0.0.1', 59066)&amp;gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-11"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"REQUEST_METHOD"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"GET"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-12"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"QUERY_STRING"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-13"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"RAW_URI"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"/"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-14"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"SERVER_PROTOCOL"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"HTTP/1.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-15"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_HOST"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"localhost:8000"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-16"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_USER_AGENT"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"curl/7.59.0"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-17"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_ACCEPT"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"*/*"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-18"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_CONNECTION"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Upgrade, HTTP2-Settings"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-19"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_UPGRADE"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"h2c"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-20"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"HTTP_HTTP2_SETTINGS"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"AAMAAABkAARAAAAAAAIAAAAA"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-21"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"wsgi.url_scheme"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"http"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-22"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"REMOTE_ADDR"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"127.0.0.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-23"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"REMOTE_PORT"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"59066"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-24"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"SERVER_NAME"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"127.0.0.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-25"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"SERVER_PORT"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"8000"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-26"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"PATH_INFO"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"/"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-27"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"SCRIPT_NAME"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;
&lt;a name="rest_code_dd24478f9f3242cabdde815dccf19144-28"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Now there is a new standard emerging, called &lt;a class="reference external" href="https://github.com/django/asgiref/blob/master/specs/asgi.rst"&gt;ASGI&lt;/a&gt; (Asynchronous Server Gateway
Interface). This new standard tries to fix WSGI limitations and provides more
flexible interface, that can support multiple protocols like HTTP, HTTP/2,
WebSockets and others. In addition ASGI provides possibility to use asyncio in
web apps. Simples ASGI application looks like this:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;asgi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-5"&gt;&lt;/a&gt;    &lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;chat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;receive&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-6"&gt;&lt;/a&gt;        &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="n"&gt;receive&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-7"&gt;&lt;/a&gt;        &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-8"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'type'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'http.response.start'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-9"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'status'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-10"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'headers'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-11"&gt;&lt;/a&gt;                &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;'Content-Type'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;'application/json'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-12"&gt;&lt;/a&gt;            &lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-13"&gt;&lt;/a&gt;        &lt;span class="p"&gt;})&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-14"&gt;&lt;/a&gt;        &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-15"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'type'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'http.response.body'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-16"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'body'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;bytes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-17"&gt;&lt;/a&gt;        &lt;span class="p"&gt;})&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-18"&gt;&lt;/a&gt;        &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-19"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'type'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'http.disconnect'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-20"&gt;&lt;/a&gt;        &lt;span class="p"&gt;})&lt;/span&gt;
&lt;a name="rest_code_34b4c6253c7b4257bc235b222e701b94-21"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;chat&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Response:&lt;/p&gt;
&lt;pre class="code json"&gt;&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-2"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"type"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"http"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-3"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"http_version"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"2"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-4"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"method"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"GET"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-5"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"path"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"/"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-6"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"root_path"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-7"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"scheme"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"https"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-8"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"query_string"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-9"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"headers"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-10"&gt;&lt;/a&gt;    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"host"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"localhost:8000"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-11"&gt;&lt;/a&gt;    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"user-agent"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"curl/7.59.0"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-12"&gt;&lt;/a&gt;    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"accept"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"*/*"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-13"&gt;&lt;/a&gt;  &lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-14"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"client"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"127.0.0.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;59012&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-15"&gt;&lt;/a&gt;  &lt;span class="nt"&gt;"server"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"127.0.0.1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_a78202bd3aa64d35bf8b439a5ae15a2b-16"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;ASGI is a bit more complicated, but gives support for modern web protocols and
&lt;em&gt;asyncio&lt;/em&gt;.&lt;/p&gt;&lt;/div&gt;</description><category>asgi</category><category>python</category><category>web</category><guid>https://sirex.lt/posts/2018/hello-asgi/</guid><pubDate>Thu, 29 Mar 2018 21:00:00 GMT</pubDate></item><item><title>Pencijų fondai</title><link>https://sirex.lt/posts/2019/penciju-fondai/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Duomenys imami iš &lt;a class="reference external" href="https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis"&gt;Lietuvos Banko svetainės&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Fondai lyginami pagal &lt;a class="reference external" href="https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis"&gt;IRR rodiklį&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;IRR (&lt;em&gt;internal rate of return&lt;/em&gt; – vidinė grąžos norma) parodo, kiek per metus
vidutiniškai paauga (procentais) kiekvienas iš atliktų SODRA pervedimų
(investicijų) į pensijų fondus. IRR atsižvelgia į visus pensijų fondų
atskaitymus bei į lėšų pervedimo laiką.&lt;/p&gt;
&lt;p&gt;Palyginimui paimti duomenys 3 metų trukmės fondo veiklos laikotarpio.&lt;/p&gt;
&lt;!-- import os
import re
import collections
import numpy as np
import pandas as pd
import matplotlib as mpl
import requests
import bs4
import matplotlib.pyplot as plt
from IPython.display import display --&gt;
&lt;!-- mpl.rc('figure', figsize=(16, 10)) --&gt;
&lt;div class="section" id="duomenu-surinkimas-ir-valymas"&gt;
&lt;h2&gt;Duomenų surinkimas ir valymas&lt;/h2&gt;
&lt;p&gt;Lietuvos bankas, duomenis apie pensijų fondus pateikia formatu, kurį sunku
analizuoti, todėl, pirmiausia reikia susirinkti duomenis ir juos susitvarkyti,
taip, kad būtų galima atlikti duomenų analizę.&lt;/p&gt;
&lt;p&gt;Pirmiausiai parsisiunčiame visus ataskaitų failus:&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;resp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://www.lb.lt/ii_pakopos_pensiju_fondu_irr_rodiklis'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;soap&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bs4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;resp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'lxml'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;soap&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'select.samewin option'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;'#'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'urls'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-5"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-6"&gt;&lt;/a&gt;        &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://www.lb.lt/&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_fdec19727f874fdd931e96be5f957ac3-7"&gt;&lt;/a&gt;&lt;span class="o"&gt;!&lt;/span&gt;wget --quiet --input-file urls
&lt;/pre&gt;&lt;p&gt;Analizei bus naudojami šių ataskaitų duomenis:&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_47f5f17319114bcf882b697fcb68a54a-1"&gt;&lt;/a&gt;&lt;span class="o"&gt;!&lt;/span&gt;cat urls
&lt;/pre&gt;&lt;pre class="literal-block"&gt;https://www.lb.lt/irr_2016-06-30
https://www.lb.lt/irr_2016-03-31
https://www.lb.lt/irr_2015-12-31
https://www.lb.lt/irr_2015-09-30
https://www.lb.lt/irr_2015-06-30
https://www.lb.lt/irr_2015-03-31
https://www.lb.lt/irr_2014-12-31
https://www.lb.lt/irr_2014-09-30
https://www.lb.lt/irr_2014-06-30
https://www.lb.lt/irr_2014-03-31
https://www.lb.lt/irr_2013-12-31
https://www.lb.lt/irr_2013-08-31
https://www.lb.lt/irr_2013-05-31
https://www.lb.lt/irr_2012-12-31
https://www.lb.lt/irr_2012-08-31
https://www.lb.lt/irr_20120531
https://www.lb.lt/irr_20120229
https://www.lb.lt/irr_20110831
https://www.lb.lt/irr_20110331
https://www.lb.lt/irr_20110228
https://www.lb.lt/irr_20101231
https://www.lb.lt/irr_20100930
https://www.lb.lt/irr_20100331
https://www.lb.lt/irr_20091231
https://www.lb.lt/irr_20090615&lt;/pre&gt;
&lt;p&gt;Išvalome ir sujungiame visus duomenų failus:&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;sheet_names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'irr_20090615'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;clean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Atidarome visus duomenų failus&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-7"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_excel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sheetname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sheet_names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-8"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'irr_'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-9"&gt;&lt;/a&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-10"&gt;&lt;/a&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-12"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Randame eilutę, kurioje yra 'IRR*' stulpelis.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-13"&gt;&lt;/a&gt;        &lt;span class="n"&gt;column_row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Index&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;itertuples&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;'IRR*'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;'IRR'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-14"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Ataskaitos failo data.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-15"&gt;&lt;/a&gt;        &lt;span class="n"&gt;match&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Suskaičiuota (.+) dienai'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-16"&gt;&lt;/a&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-17"&gt;&lt;/a&gt;            &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-18"&gt;&lt;/a&gt;        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-19"&gt;&lt;/a&gt;            &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-20"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Keičiame lentelės stulpelių pavadinimus į eilutę, kurioje radom 'IRR*' stulpelį.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-21"&gt;&lt;/a&gt;        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;column_row&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-22"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Konvertuojame 'IRR*' stulpelį į skaitinį tipą.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-23"&gt;&lt;/a&gt;        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'IRR*'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;'IRR*'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;errors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'coerce'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-24"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Pridedame naują stulpelį į lentelę su ataskaitos data.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-25"&gt;&lt;/a&gt;        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Data'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-26"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Pašaliname visas eilutes iš lentelės, kurios neturi IRR reikšmės.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-27"&gt;&lt;/a&gt;        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;subset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-28"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Kai kuriose ataskaitose nepateikiama pensijų kaupimo bendrovė&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-29"&gt;&lt;/a&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-30"&gt;&lt;/a&gt;            &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-31"&gt;&lt;/a&gt;            &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Fondas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-32"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Iš lentelės pasirenkame mus dominančius stulpelius.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-33"&gt;&lt;/a&gt;        &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Data'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-34"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# Išsisaugome išvalytę lentelę.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-35"&gt;&lt;/a&gt;        &lt;span class="n"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-36"&gt;&lt;/a&gt;    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-37"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-38"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-39"&gt;&lt;/a&gt;        &lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-40"&gt;&lt;/a&gt;        &lt;span class="k"&gt;raise&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-41"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Sujungiame visų ataskaitų lenteles į vieną lentelę.&lt;/span&gt;
&lt;a name="rest_code_f4d591dbc451454699e3ceb969c1d52c-42"&gt;&lt;/a&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;clean&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Suvienodiname pasikeitusių bendrovių ir fondų pavadinimus:&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_7467deccf85d456698219899281cf222-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;renames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Danske konservatyvaus valdymo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Danske pensija'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-3"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Konservatyvaus valdymo Danske pensija'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Danske pensija'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-5"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'ERGO Life Insurance SE'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'UAB "ERGO Lietuva gyvybės draudimas"'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-6"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'ERGO Balans'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'ERGO balans'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-7"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'ERGO Konservatyvusis'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'ERGO konservatyvusis'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-9"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# http://www.invaldalt.com/lt/main/naujienos/Kitos_naujienos?ID=1331&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-10"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'UAB "Finasta Asset Management"'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'UAB "INVL Asset Management"'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-11"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Konservatyvaus investavimo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL STABILO II 58+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-12"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Aktyvaus investavimo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-13"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Racionalios rizikos'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL EXTREMO II 16+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-14"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Nuosaikus'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL STABILO II 58+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-15"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Augančio pajamingumo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEZZO II 53+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-16"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Finasta Subalansuotas'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-17"&gt;&lt;/a&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-18"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'UAB "MP Pension Funds Baltic"'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'UAB "INVL Asset Management"'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-19"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'MP Stabilo II'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL STABILO II 58+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-20"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'MP Medio II'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-21"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'MP Extremo II'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL EXTREMO II 16+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-22"&gt;&lt;/a&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-23"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Konservatyvus'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL STABILO II 58+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-24"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Nuosaikus'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL STABILO II 58+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-25"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Augančio pajamingumo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEZZO II 53+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-26"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Aktyvaus investavimo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-27"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Subalansuotas'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-28"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Invalda Racionalios rizikos'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL EXTREMO II 16+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-29"&gt;&lt;/a&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-30"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'INVL aktyvaus investavimo'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL MEDIO II 47+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-31"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'INVL racionalios rizikos'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'INVL EXTREMO II 16+'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-32"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-33"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-34"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-35"&gt;&lt;/a&gt;        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-36"&gt;&lt;/a&gt;            &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-37"&gt;&lt;/a&gt;            &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Pensija'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'pensija'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-38"&gt;&lt;/a&gt;            &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Ekstra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'ekstra'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-39"&gt;&lt;/a&gt;            &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'DnB NORD'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'DNB'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-40"&gt;&lt;/a&gt;            &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'DnB'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'DNB'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-41"&gt;&lt;/a&gt;        &lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-42"&gt;&lt;/a&gt;        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;renames&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-43"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-44"&gt;&lt;/a&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_7467deccf85d456698219899281cf222-45"&gt;&lt;/a&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Atstatome bendrovių pavadinimus, lentelėse, kuriose jie nebuvo pateikti.
Bendrovių pavadinimai atstatomi pagal fondų pavadinimus.&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;unique&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;collections&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OrderedDict&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fromkeys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;bendroves&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-3"&gt;&lt;/a&gt;    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-4"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;fondai&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bendroves&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-7"&gt;&lt;/a&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-8"&gt;&lt;/a&gt;    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-9"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-10"&gt;&lt;/a&gt;    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;fondai&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;a name="rest_code_41ab7ba2c57446b68ce049baf9d904c0-11"&gt;&lt;/a&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Galiausiai gauname išvalytą lenterę su duomenimis iš visų Lietuvos banko
ataskaitų, kuri tarodo taip:&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_c1c6e35c90b54676b026f2af358656d8-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;table&gt;
&lt;colgroup&gt;
&lt;col style="width: 2%"&gt;
&lt;col style="width: 48%"&gt;
&lt;col style="width: 30%"&gt;
&lt;col style="width: 13%"&gt;
&lt;col style="width: 7%"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;p&gt;#&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;Pensijų kaupimo bendrovė&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;Pensijų fondo pavadinimas&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;Data&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;IRR&lt;/p&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;4&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;UAGDPB "AVIVA Lietuva"&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;Aviva Europensija&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;2014-06-30&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.0302&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;5&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;UAB "Danske Capital investicijų valdymas"&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;Danske pensija&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;2014-06-30&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.0316&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;6&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;UAB "DNB investicijų valdymas"&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;DNB pensija 1&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;2014-06-30&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.0257&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;7&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;UAB "ERGO Lietuva gyvybės draudimas"&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;ERGO konservatyvusis&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;2014-06-30&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.0272&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;8&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;UAB "INVL Asset Management"&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;INVL STABILO II 58+&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;2014-06-30&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.0507&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Transformuojame lentelę į tokį pavidalą, kuris leidžia palyginti IRR įvairiais
pjūviais.&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_e00b6011f1b745e09ade02d0bff34696-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;pivot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Data'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_e00b6011f1b745e09ade02d0bff34696-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Pensijų kaupimo bendrovė'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_e00b6011f1b745e09ade02d0bff34696-3"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'Pensijų fondo pavadinimas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_e00b6011f1b745e09ade02d0bff34696-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_e00b6011f1b745e09ade02d0bff34696-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;table&gt;
&lt;colgroup&gt;
&lt;col style="width: 23%"&gt;
&lt;col style="width: 17%"&gt;
&lt;col style="width: 17%"&gt;
&lt;col style="width: 11%"&gt;
&lt;col style="width: 11%"&gt;
&lt;col style="width: 11%"&gt;
&lt;col style="width: 8%"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;p&gt;Pensijų kaupimo bendrovė&lt;/p&gt;&lt;/th&gt;
&lt;th class="head" colspan="2"&gt;&lt;p&gt;UAB "Citadele investicijų valdymas"&lt;/p&gt;&lt;/th&gt;
&lt;th class="head" colspan="4"&gt;&lt;p&gt;UAB "DNB investicijų valdymas"&lt;/p&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;p&gt;Pensijų fondo pavadinimas&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;Citadele pensija 1&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;Citadele pensija 2&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;DNB pensija 1&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;DNB pensija 2&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;DNB pensija 3&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;ERGO balans&lt;/p&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;Data&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;2009-06-15&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.019374&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.001624&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;-0.020811&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;2009-12-31&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.076045&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.161496&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.219199&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;2010-03-31&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.034633&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.041592&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;0.041157&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;NaN&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="pensiju-kaupimo-bendroviu-palyginimas"&gt;
&lt;h2&gt;Pensijų kaupimo bendrovių palyginimas&lt;/h2&gt;
&lt;div class="section" id="visu-bendroviu-visu-fondu-vidutinis-irr"&gt;
&lt;h3&gt;Visų bendrovių, visų fondų vidutinis IRR&lt;/h3&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_c1f01f7c092f46b5b186e8ad0e2a3052-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_c1f01f7c092f46b5b186e8ad0e2a3052-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fill_between&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'grey'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_c1f01f7c092f46b5b186e8ad0e2a3052-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;level&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_c1f01f7c092f46b5b186e8ad0e2a3052-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;colormap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'jet'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_c1f01f7c092f46b5b186e8ad0e2a3052-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/pensiju-fondai/vidutinis-irr.png"&gt;&lt;img alt="Visų bendrovių, visų fondų vidutinis IRR" class="whitebg" src="https://sirex.lt/images/2019/pensiju-fondai/vidutinis-irr.thumbnail.png"&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div class="section" id="kievienos-bendroves-fondu-palyginimas"&gt;
&lt;h3&gt;Kievienos bendrovės fondų palyginimas&lt;/h3&gt;
&lt;p&gt;Žemiau pateikiamas sąrašas grafikų, kuriuose pavaizduoti kiekvienos bendrovės
fondų IRR rodikliai, laike. Šviesiai pilkas fonas rodo geriausių ir blogiausių
fondų IRR ribas, o tamsiai pilkas fonas parodo visų fondų vidurkio standartinio
nuokrypio ribas.&lt;/p&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;level&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-5"&gt;&lt;/a&gt;    &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fill_between&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'grey'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-6"&gt;&lt;/a&gt;    &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fill_between&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'grey'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-7"&gt;&lt;/a&gt;    &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-8"&gt;&lt;/a&gt;    &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'IRR'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_52d5aea85b124305bb98d60b58bfa330-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/pensiju-fondai/fondai.png"&gt;&lt;img alt="Kievienos bendrovės fondų palyginimas" class="whitebg" src="https://sirex.lt/images/2019/pensiju-fondai/fondai.thumbnail.png"&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div class="section" id="visu-fondu-irr-rodiklio-vidurkis"&gt;
&lt;h3&gt;Visų fondų IRR rodiklio vidurkis&lt;/h3&gt;
&lt;pre class="code ipython"&gt;&lt;a name="rest_code_743618c13cd94429919b598775dafa4a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;level&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;barh&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;a class="reference external image-reference" href="https://sirex.lt/images/2019/pensiju-fondai/irr-vidurkis.png"&gt;&lt;img alt="Visų fondų IRR rodiklio vidurkis" class="whitebg" src="https://sirex.lt/images/2019/pensiju-fondai/irr-vidurkis.thumbnail.png"&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description><guid>https://sirex.lt/posts/2019/penciju-fondai/</guid><pubDate>Thu, 22 Sep 2016 04:35:00 GMT</pubDate></item><item><title>SCOOP</title><link>https://sirex.lt/posts/2016/scoop/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;I found an &lt;a class="reference external" href="https://medium.com/@paulrim/mining-common-crawl-with-php-39e14082c55c?source=post_page-----6cc4108e97eb----------------------"&gt;article&lt;/a&gt; about processing &lt;a class="reference external" href="http://commoncrawl.org/"&gt;Common Crawl&lt;/a&gt; data in parallel.&lt;/p&gt;
&lt;p&gt;Decided to try same thing using &lt;a class="reference external" href="https://github.com/soravux/scoop"&gt;SCOOP&lt;/a&gt;.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;csv&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;gzip&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib.parse&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib.request&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-7"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scoop&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-8"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scoop.futures&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-11"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;read_gzip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-12"&gt;&lt;/a&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-13"&gt;&lt;/a&gt;        &lt;span class="k"&gt;yield from&lt;/span&gt; &lt;span class="n"&gt;gzip&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BufferedReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-16"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_themes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-17"&gt;&lt;/a&gt;    &lt;span class="n"&gt;themes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-18"&gt;&lt;/a&gt;    &lt;span class="n"&gt;domain&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-19"&gt;&lt;/a&gt;    &lt;span class="n"&gt;theme_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;'wp-content/themes/'&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-20"&gt;&lt;/a&gt;    &lt;span class="n"&gt;scoop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'parsing: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-21"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;read_gzip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-22"&gt;&lt;/a&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;'WARC-Target-URI:'&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-23"&gt;&lt;/a&gt;            &lt;span class="n"&gt;domain&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'utf-8'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-24"&gt;&lt;/a&gt;            &lt;span class="n"&gt;domain&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlparse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;netloc&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-25"&gt;&lt;/a&gt;        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;theme_path&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-26"&gt;&lt;/a&gt;            &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-27"&gt;&lt;/a&gt;            &lt;span class="n"&gt;end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s1"&gt;'/'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-28"&gt;&lt;/a&gt;            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-29"&gt;&lt;/a&gt;                &lt;span class="n"&gt;themes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'utf-8'&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-30"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;themes&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-31"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-32"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-33"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-34"&gt;&lt;/a&gt;    &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;read_gzip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'https://commoncrawl.s3.amazonaws.com/crawl-data/CC-MAIN-2016-07/warc.paths.gz'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-35"&gt;&lt;/a&gt;    &lt;span class="n"&gt;paths&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'https://commoncrawl.s3.amazonaws.com/'&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'utf-8'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-36"&gt;&lt;/a&gt;    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'results.csv'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;newline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-37"&gt;&lt;/a&gt;        &lt;span class="n"&gt;writer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-38"&gt;&lt;/a&gt;        &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writerow&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'domain'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'theme'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-39"&gt;&lt;/a&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scoop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;futures&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_themes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;paths&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-40"&gt;&lt;/a&gt;            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-41"&gt;&lt;/a&gt;                &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writerow&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-42"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-43"&gt;&lt;/a&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-44"&gt;&lt;/a&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_cff040547a2f4851891f9eacab04e6c0-45"&gt;&lt;/a&gt;    &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;&lt;a class="reference external" href="https://github.com/soravux/scoop"&gt;SCOOP&lt;/a&gt; allows to run scripts on multiple cores locally or on multiple remote
machines via ssh. In order to do that, you need to install SCOOP and this
script on each machine and list those machines in a hosts file, that will be
read by SCOOP. Server setup part probably can be done with Ansible.&lt;/p&gt;
&lt;p&gt;I tried to run this scripts on two servers, each server takes about 15 minutes
to download one ~800 Mb warc file and 2.5 minutes to process it.&lt;/p&gt;
&lt;p&gt;All processing is done by reading streams, so there is no need for extra
storage on server nodes.&lt;/p&gt;
&lt;p&gt;Here is how I run it:&lt;/p&gt;
&lt;pre class="code sh"&gt;&lt;a name="rest_code_b303368f365a4fb5b16f0abaf85a1816-1"&gt;&lt;/a&gt;python -m scoop --hostfile hosts --tunnel --python-interpreter /tmp/scoops/bin/python -p /tmp/scoops run.py
&lt;/pre&gt;&lt;/div&gt;</description><category>data</category><category>python</category><category>streams</category><guid>https://sirex.lt/posts/2016/scoop/</guid><pubDate>Sat, 28 May 2016 21:00:00 GMT</pubDate></item><item><title>Mercurial server konfigūravimas</title><link>https://sirex.lt/posts/2013/mercurial-server/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Instrukcija apie tai kaip įsidiegti &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; į savo serverį. Kartu
pateikiu ir keletą patarimų, kaip organizuoti darbą naudojant &lt;a class="reference external" href="http://mercurial.selenic.com/"&gt;mercurial&lt;/a&gt;
versijų kontrolės sistemą.&lt;/p&gt;
&lt;div class="section" id="kas-yra-mercurial-server"&gt;
&lt;h2&gt;Kas yra mercurial-server?&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; yra nedidelis skriptų rinkinys, padedantis organizuoti darbą
su &lt;a class="reference external" href="http://mercurial.selenic.com/"&gt;mercurial&lt;/a&gt; repozitorijomis viename serveryje, per vieną &lt;code class="docutils literal"&gt;hg&lt;/code&gt; naudotoją.
Naudojamas SSH protokolas, o repozitorijų naudotojai identifikuojami SSH raktų
pagalba.&lt;/p&gt;
&lt;p&gt;Įdiegus &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt;, serveryje nepaleidžiami jokie nauji demonai, kadangi
visa komunikacija vyksta per &lt;code class="docutils literal"&gt;sshd&lt;/code&gt; demoną.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; suteikia galimybę paprastai kurti naujus naudotojus, tiesiog
pridedant jų SSH raktą, yra galimybė valdyti naudotojų teises. Labai paprasta
kurti naujas repozitorijas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pries-pradedant"&gt;
&lt;h2&gt;Prieš pradedant&lt;/h2&gt;
&lt;p&gt;Čia pateikta informacija praktiškai išbandyta su &lt;a class="reference external" href="http://www.ubuntu.com/"&gt;Ubuntu&lt;/a&gt; 12.04 distribucija.
Instrukcija ko gero galios ir visoms kitoms &lt;a class="reference external" href="http://www.debian.org/"&gt;Debian&lt;/a&gt; pagrindu sukurtoms
&lt;a class="reference external" href="http://www.gnu.org/gnu/linux-and-gnu.html"&gt;GNU/Linux&lt;/a&gt; distribucijoms.&lt;/p&gt;
&lt;p&gt;Visos instrukcijos žemiau, bus naudojami tokie vardai:&lt;/p&gt;
&lt;dl class="simple"&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;vardenis&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Jūsų naudotojo vardas.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;skreitinukas&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Jūsų kompiuterio vardas (angl. &lt;em&gt;hostname&lt;/em&gt;).&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;serveris&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Serverio vardas (angl. &lt;em&gt;hostname&lt;/em&gt;).&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="diegimas"&gt;
&lt;h2&gt;Diegimas&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; galima įsidiegti iš paketų repozitorijos:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo apt-get install mercurial-server&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="ssh-raktai"&gt;
&lt;h2&gt;SSH raktai&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; veikia saugaus SSH protokolo ir SSH raktų pagalba. Todėl
būtina susikurti SSH raktą, jei jo dar neturite:&lt;/p&gt;
&lt;pre class="literal-block"&gt;ssh-keygen -C vardenis@skreitinukas&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="mercurial-server-pirmojo-naudotojo-kurimas"&gt;
&lt;h2&gt;mercurial-server pirmojo naudotojo kūrimas&lt;/h2&gt;
&lt;p&gt;Prieš pradedant bet kokį &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; konfigūravimą, būtina susikurti
pirmąjį administratoriaus naudotoją, kuris galės keisti &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt;
konfigūraciją ir suteikti prieigą prie repozitorijų, kitiems naudotojams.&lt;/p&gt;
&lt;p&gt;Tam jums reikės įkelti savo viešąjį SSH raktą, į serverį ir paleisti
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;refresh-auth&lt;/span&gt;&lt;/code&gt; komandą:&lt;/p&gt;
&lt;pre class="literal-block"&gt;scp ~/.ssh/id_rsa.pub vardenis@serveris:
ssh vardenis@serveris
sudo mkdir -p /etc/mercurial-server/keys/root/vardenis
sudo cp id_rsa.pub /etc/mercurial-server/keys/root/vardenis/skreitinukas
sudo -u hg /usr/share/mercurial-server/refresh-auth
rm id_rsa.pub&lt;/pre&gt;
&lt;p&gt;Po šių komandų, bus sukurtas pirmasis naudotojas, kuris jau gali pilnai
naudotis visomis funkcijomis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="naudotoju-kurimas-ir-valdymas"&gt;
&lt;h2&gt;Naudotojų kūrimas ir valdymas&lt;/h2&gt;
&lt;p&gt;Jei norite, kad prie repozitorijų priėjimą turėtų daugiau nei vienas
naudotojas, tuomet, galite susikurti daugiau naudotojų, įkeldami kiekvieno iš
jų SSH viešąjį raktą, tokiu būdu:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg clone ssh://hg@serveris/hgadmin
cd hgadmin
mkdir -p keys/users/jonas
cp ~/jono-raktas.pub keys/users/jonas/jonoskreitinukas
hg add
hg commit -m "Įkeltas Jono raktas."
hg push&lt;/pre&gt;
&lt;p&gt;Komandos aukščiau turi būti vykdomos &lt;code class="docutils literal"&gt;vardenis&lt;/code&gt; naudotojo kompiuteryje, o ne
serveryje. &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;~/jono-raktas.pub&lt;/span&gt;&lt;/code&gt; yra kito naudotojo raktas. Jei naudotojai
raktą siunčia el. paštu, įsitikinkite, kad raktas nesulaužytas į kelias
eilutes, visas SSH raktas, turi būti viena eilutė.&lt;/p&gt;
&lt;p&gt;Įvykdžius paskutinę komandą &lt;code class="docutils literal"&gt;hg push&lt;/code&gt;, serveryje, &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt;
automatiškai paleist &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;/usr/share/mercurial-server/refresh-auth&lt;/span&gt;&lt;/code&gt; skriptą ir
atnaujins konfigūraciją.&lt;/p&gt;
&lt;p&gt;Atkreipkite dėmesio, kad administratoriaus raktas buvo įkeltas į &lt;code class="docutils literal"&gt;keys/root&lt;/code&gt;
katalogą, o paprasto naudotojo į &lt;code class="docutils literal"&gt;keys/users&lt;/code&gt;. Priklausomai nuo to, į kokį
katalogą įkeltas naudotojo raktas, tokios teisės jam ir bus suteiktos. Pagal
nutylėjimą, yra sukurtos dvi naudotojų grupės, &lt;code class="docutils literal"&gt;root&lt;/code&gt; ir &lt;code class="docutils literal"&gt;users&lt;/code&gt;. &lt;code class="docutils literal"&gt;users&lt;/code&gt;
naudotojai, neturi priėjimo prie &lt;code class="docutils literal"&gt;hgadmin&lt;/code&gt; repozitorijos, todėl neturi
galimybės kurti naujus naudotojus, ar keisti konfigūraciją.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mercurial-server-konfiguravimas"&gt;
&lt;h2&gt;mercurial-server konfigūravimas&lt;/h2&gt;
&lt;p&gt;Kaip jau pastebėjote, &lt;a class="reference external" href="http://www.lshift.net/mercurial-server.html"&gt;mercurial-server&lt;/a&gt; konfigūraciniai failai laikomi dviejose
vietose, serveryje, &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;/etc/mercurial-server&lt;/span&gt;&lt;/code&gt; kataloge ir &lt;code class="docutils literal"&gt;hgadmin&lt;/code&gt;
repozitorijoje. Rekomenduoju visą konfigūraciją laikyti versijuojamoje
&lt;code class="docutils literal"&gt;hgadmin&lt;/code&gt; repozitorijoje.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="naudotoju-teisiu-valdymas"&gt;
&lt;h2&gt;Naudotojų teisių valdymas&lt;/h2&gt;
&lt;p&gt;Naudotojų teisės valdomos per &lt;code class="docutils literal"&gt;access.conf&lt;/code&gt; konfigūracijos failą, esantį
&lt;code class="docutils literal"&gt;hgadmin&lt;/code&gt; repozitorijoje. Pagal nutylėjimą, šis failas, serveryje
(&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;/etc/mercurial-server/access.conf&lt;/span&gt;&lt;/code&gt;) atrodo taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;init user=root/**
deny repo=hgadmin
write user=users/**&lt;/pre&gt;
&lt;p&gt;Galite susikurti naują &lt;code class="docutils literal"&gt;access.conf&lt;/code&gt; failą &lt;code class="docutils literal"&gt;hgadmin&lt;/code&gt; repozitorijoje ir
apsirašyti naujus nustatymus, kurie įsigalios po &lt;code class="docutils literal"&gt;hg push&lt;/code&gt; (įkėlimo į
serverį) komandos.&lt;/p&gt;
&lt;p&gt;Viena konfigūracijos failo eilutė susideda iš tokių dalių:&lt;/p&gt;
&lt;pre class="literal-block"&gt;&amp;lt;leidimas&amp;gt; &amp;lt;taisyklė 1&amp;gt; &amp;lt;taisyklė 2&amp;gt; &amp;lt;taisyklė N&amp;gt; ...&lt;/pre&gt;
&lt;p&gt;Leidimai gali būti tokie:&lt;/p&gt;
&lt;dl class="simple"&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;init&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Leisti kurti naują, rašyti į ir skaityti repozitorijas aprašytas taisyklėse
nurodytiems naudotojams.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;write&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Leisti rašyti ir rašyti į ir skaityti.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;read&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Leisti tik skaityti.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code class="docutils literal"&gt;deny&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Drausti priėjimą prie repozitorijos.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Plačiau apie tai galite pasiskaityti &lt;a class="reference external" href="http://dev.lshift.net/paul/mercurial-server/docbook.html"&gt;mercurial-server dokumentacijoje&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="repozitoriju-kurimas"&gt;
&lt;h2&gt;Repozitorijų kūrimas&lt;/h2&gt;
&lt;p&gt;Repozitorijos serveryje kuriamos labai paprastai, jei turite &lt;code class="docutils literal"&gt;init&lt;/code&gt; teisę,
tada naują repozitoriją serveryje sukursite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg clone lokali/repozitorija ssh://hg@serveris/nauja-repozitorija&lt;/pre&gt;
&lt;p&gt;Po šios komandos, serveryje bus sukurta nauja repozitorija pavadinimu
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;nauja-repozitorija&lt;/span&gt;&lt;/code&gt; ir į ją bus perkeltas visas &lt;code class="docutils literal"&gt;lokali/repozitorija&lt;/code&gt;
turinys. Lokalią repozitoriją galite susikurti taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg init lokali/repozitorija&lt;/pre&gt;
&lt;p&gt;Iš serverio, į savo kompiuterį bet kurią repozitoriją, prie kurios turite
priėjimą, atsisiūsite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg clone ssh://hg@serveris/nauja-repozitorija&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="darbo-organizavimas"&gt;
&lt;h2&gt;Darbo organizavimas&lt;/h2&gt;
&lt;p&gt;Yra daugybė būdų, kaip galima organizuoti darbus, naudojant versijų kontrolės
sistemas. Pateiksiu kelis patarimus, kuriuos esu išbandęs praktiškai.&lt;/p&gt;
&lt;p&gt;Visų pirmą, turite suprasti, kad &lt;a class="reference external" href="http://mercurial.selenic.com/"&gt;mercurial&lt;/a&gt; turi tris šakų tipus:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://stevelosh.com/blog/2009/08/a-guide-to-branching-in-mercurial/#branching-with-clones"&gt;klonuotos šakos&lt;/a&gt; (angl. &lt;em&gt;cloned branches&lt;/em&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://mercurial.selenic.com/wiki/NamedBranches"&gt;pavadintos šakos&lt;/a&gt; (angl. &lt;em&gt;named branches&lt;/em&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://stevelosh.com/blog/2009/08/a-guide-to-branching-in-mercurial/#branching-anonymously"&gt;paprastos šakos&lt;/a&gt; (angl. &lt;em&gt;branches&lt;/em&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="klonuotos-sakos"&gt;
&lt;h3&gt;Klonuotos šakos&lt;/h3&gt;
&lt;p&gt;Klonuotos šakos yra visiškai atskiros repozitorijos, sukurtos kitos
repozitorijos pagrindu, toks repozitorijų šakų kūrimas angliškai dažnai
vadinamas &lt;em&gt;forking&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Klonuotos šakos yra saugios nuo bet kokių repozitorijos sugadinimų, todėl, kad
visa istorija vedama atskiroje repozitorijoje. Žinoma, esant reikalui,
klonuotas šakas galima sulieti į vieną.&lt;/p&gt;
&lt;p&gt;Rekomenduoju šio tipo šakas naudoti kuriant naujas funkcijas, eksperimentams ir
pan. Be to, naudinga, turėti atskirą klonuotą šaką produkto (angl.
&lt;em&gt;production&lt;/em&gt;) kodui, kurioje visą laiką yra tik tie pakeitimai, kurie įkelti į
veikiantį produkto serverį.&lt;/p&gt;
&lt;p&gt;Kadangi naudinga turėti daug klonuotų šakų, todėl serveryje, repozitorijas
reikia organizuoti taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;ssh://hg@serveris/projektas
ssh://hg@serveris/projektas/production
ssh://hg@serveris/projektas/funkcija-x
ssh://hg@serveris/projektas/funkcija-y
ssh://hg@serveris/projektas/vardenis
ssh://hg@serveris/projektas/vardenis/funkcija-x
ssh://hg@serveris/projektas/jonas&lt;/pre&gt;
&lt;p&gt;Šiame pavyzdyje, pagrindinė repozitorija yra &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;ssh://hg@serveris/projektas&lt;/span&gt;&lt;/code&gt;,
šioje klonuotoje šakoje turėtų būti saugoma naujausią veikianti versija,
&lt;a class="reference external" href="http://subversion.apache.org/"&gt;Subversion&lt;/a&gt; terminais kalbant, tai vadinama &lt;code class="docutils literal"&gt;trunk&lt;/code&gt;, &lt;a class="reference external" href="http://git-scm.com/"&gt;git&lt;/a&gt; terminais
&lt;code class="docutils literal"&gt;master&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Taip pat yra produkto šaka &lt;code class="docutils literal"&gt;projektas/production&lt;/code&gt;, kurioje turėtų būti
laikomi tokie patys pakeitimai, kurie yra produkcinėje versijoje.&lt;/p&gt;
&lt;p&gt;Kitos šakos &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;projektas/funkcija-x&lt;/span&gt;&lt;/code&gt;, &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;projektas/funkcija-y&lt;/span&gt;&lt;/code&gt; yra skirtos
ilgiau vystomoms funkcijoms. Taip pat, kiekvienas naudotojas gali turėti po
savo klonuotą šaką, kuri gali saugoti nebaigtus pakeitimus.&lt;/p&gt;
&lt;p&gt;Klonuotą šaką sukursite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg clone . ssh://hg@serveris/projektas/funkcija-x&lt;/pre&gt;
&lt;p&gt;Kad būtų paprasčiau dirbti su klonuotomis šakomis siūlau naudoti kelio
trumpinius, kuriuos galite apsirašyti repozitorijos &lt;code class="docutils literal"&gt;.hg/hgrc&lt;/code&gt; faile:&lt;/p&gt;
&lt;pre class="code cfg"&gt;&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;[paths]&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-2"&gt;&lt;/a&gt;&lt;span class="na"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-3"&gt;&lt;/a&gt;&lt;span class="na"&gt;production&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas/production&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-4"&gt;&lt;/a&gt;&lt;span class="na"&gt;funkcija-x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas/funkcija-x&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-5"&gt;&lt;/a&gt;&lt;span class="na"&gt;funkcija-y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas/funkcija-y&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-6"&gt;&lt;/a&gt;&lt;span class="na"&gt;vardenis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas/vardenis&lt;/span&gt;
&lt;a name="rest_code_f306f79bb0c04e49b76dcf4208154d94-7"&gt;&lt;/a&gt;&lt;span class="na"&gt;jonas&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas/jonas&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Turin tokius aprašus, galite naudoti trumpuosius vardus (&lt;code class="docutils literal"&gt;default&lt;/code&gt; turi
ypatingą prasmę ir šis kelias naudojamas tada, kai nenurodote nieko):&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg push
hg push production
hg push funkcija-x
hg pull jonas&lt;/pre&gt;
&lt;p&gt;Taip pat galite naudoti &lt;a class="reference external" href="http://mercurial.selenic.com/wiki/SchemesExtension"&gt;Schemes&lt;/a&gt; išplėtimą, kurį įjungsite savo &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;~/.hgrc&lt;/span&gt;&lt;/code&gt;
faile taip:&lt;/p&gt;
&lt;pre class="code cfg"&gt;&lt;a name="rest_code_6c20ec8f87d240f2b76343dbe22f93e0-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;[extensions]&lt;/span&gt;
&lt;a name="rest_code_6c20ec8f87d240f2b76343dbe22f93e0-2"&gt;&lt;/a&gt;&lt;span class="na"&gt;hgext.schemes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
&lt;a name="rest_code_6c20ec8f87d240f2b76343dbe22f93e0-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_6c20ec8f87d240f2b76343dbe22f93e0-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;[schemes]&lt;/span&gt;
&lt;a name="rest_code_6c20ec8f87d240f2b76343dbe22f93e0-5"&gt;&lt;/a&gt;&lt;span class="na"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;ssh://hg@serveris/projektas&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Tada dirbti galite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg push p://production
hg push p://funkcija-x
hg pull p://jonas&lt;/pre&gt;
&lt;p&gt;Atkreipkite dėmesį, kad dirbant su klonuotomis šakomis, rekomenduojama savo
kompiuteryje, taip pat turėti panašią katalogų struktūrą, su keliomis to pačio
projekto kopijomis, skirtinguose kataloguose. Pavyzdžiui:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dirbate prie &lt;code class="docutils literal"&gt;default&lt;/code&gt; šakos ir staiga atsiranda poreikis, pataisyti
klaidą &lt;code class="docutils literal"&gt;production&lt;/code&gt; šakoje. Tada tiesiog keičiate aktyvų katalogą
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;../production&lt;/span&gt;&lt;/code&gt;, ten pataisote klaidą, išsaugote pakeitimus &lt;code class="docutils literal"&gt;hg commit&lt;/code&gt;
ir įkeliate pakeitimus į serveryje esančią repozitoriją &lt;code class="docutils literal"&gt;hg push
production&lt;/code&gt;. Galiausiai, grįžtate atgal prie savo darbo &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;../projektas&lt;/span&gt;&lt;/code&gt;,
ten baigiate pakeitimus, juos išsaugote &lt;code class="docutils literal"&gt;hg commit&lt;/code&gt; ir pasiimate klaidos
pataisymą iš kitos šakos &lt;code class="docutils literal"&gt;hg pull production&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="pavadintos-sakos"&gt;
&lt;h3&gt;Pavadintos šakos&lt;/h3&gt;
&lt;p&gt;Pavadintos šakos yra vidinės repozitorijos šakos, kurios turi pavadinimą. Šio
tipo šakos įeina į repozitorijos istoriją ir jų negalima ištrinti (t.y.
negalima ištrinti paprastai).&lt;/p&gt;
&lt;p&gt;Siūlau šio tipo šakas naudoti pagrindinėms versijoms žymėti. Pavyzdžiu,
tarkime, kad jūsų projektas, turi dvi pagrindines ir palaikomas versijas,
&lt;code class="docutils literal"&gt;1.1&lt;/code&gt; ir &lt;code class="docutils literal"&gt;1.2&lt;/code&gt;, tuomet, galite susikurti dvi pavadintas šakas:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg branch 1.1
hg ci -m "Nauja šaka versijai 1.1."

hg branch 1.2
hg ci -m "Nauja šaka versijai 1.2."&lt;/pre&gt;
&lt;p&gt;Pereiti prie kitos pavadintos šakos galite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg update 1.1&lt;/pre&gt;
&lt;p&gt;Pasitikrinti, kuri šaka yra aktyvi šiuo metu galite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;hg branch&lt;/pre&gt;
&lt;p&gt;Pavadintos šakos turi tokią savybę, kad joje galite atlikti naujus pakeitimus
ir ji visą laiką rodys į naujausią pakeitimą. Versijuojant, stambioms versijoms
tokia savybė labai tinka. Išleidžiant naujas galutines versijas, kuriose jau
nebegali būti daromi jokie pakeitimai, galima naudoti žymes, o pavadinta šaka,
&lt;code class="docutils literal"&gt;1.2&lt;/code&gt; visą laiką rodys į naujausią galutinę versiją.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="paprastos-sakos"&gt;
&lt;h3&gt;Paprastos šakos&lt;/h3&gt;
&lt;p&gt;Paprastos šakos yra vidinės šakos ir jos susikuria automatiškai, kiekvieną
kartą, kai reikia. Pavyzdžiui:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Naudotojas A padarė pakeitimą x, lygiai tuo pat metu naudotojas B padarė
pakeitimą y. Naudotojas A, pirmesnis įkėlė savo pakeitimą į serverį, todėl
naudotojui B iššoko pranešimas, kad serveryje yra naujų pakeitimų, kurių
jis neturi. Tada naudotojas B, turi atsinaujinti (angl. &lt;em&gt;pull&lt;/em&gt;) pakeitimus
iš serverio, ko pasekoje bus automatiškai sukurta šaka, viena naudotojo A,
kita naudotojo B. Galiausiai naudotojas B turi tas šakas sulieti (angl.
&lt;em&gt;merge&lt;/em&gt;) ir tik tada įkelti savo pakeitimus ir suliejimą į serverį.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>mercurial</category><guid>https://sirex.lt/posts/2013/mercurial-server/</guid><pubDate>Wed, 17 Apr 2013 16:03:00 GMT</pubDate></item><item><title>El. pašto klientas alot</title><link>https://sirex.lt/posts/2013/alot/</link><dc:creator>Sirex</dc:creator><description>&lt;div&gt;&lt;p&gt;Po to, kai Gmail privalomai įjungė &lt;a class="reference external" href="http://gmailblog.blogspot.com/2012/10/introducing-new-compose-in-gmail.html"&gt;naują laiškų rašymo funkciją&lt;/a&gt;,
nebeapsikenčiau ir nusprendžiau susirasti normalų pašto klientą.&lt;/p&gt;
&lt;p&gt;Anksčiau ilgą laiką naudojau &lt;a class="reference external" href="http://www.mutt.org/"&gt;mutt&lt;/a&gt;, bet deja, su dideliais laiškų kiekiais
viename kataloge, &lt;a class="reference external" href="http://www.mutt.org/"&gt;mutt&lt;/a&gt; veikia gan lėtai, neturi greito ir patogaus laiškų
filtravimo ir panašu, kad yra vis mažiau palaikomas.&lt;/p&gt;
&lt;p&gt;Panašu, kad &lt;a class="reference external" href="http://www.mutt.org/"&gt;mutt&lt;/a&gt; greitu laiku pakeis &lt;a class="reference external" href="http://sup.rubyforge.org/"&gt;sup&lt;/a&gt; ir jo klonai. &lt;a class="reference external" href="http://sup.rubyforge.org/"&gt;sup&lt;/a&gt; gan nemažai gerų
dalykų pasiskolino iš Gmail, o tuo pačiu pakeitė visus blogus dalykus. Man,
keičiančiam Gmail, &lt;a class="reference external" href="http://sup.rubyforge.org/"&gt;sup&lt;/a&gt; yra kaip tik tai, ko reikia. Tačiau apsižvalgius ir
apsiskaičius, radau, kad &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; (&lt;a class="reference external" href="http://sup.rubyforge.org/"&gt;sup&lt;/a&gt; klonas) yra net gi dar geriau.&lt;/p&gt;
&lt;p&gt;Kol kas apsisprendžiau išbandyti &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt;, žemiau pateikiu informaciją, kaip viską
sukonfigūravau, gal būt, kam nors pravers.&lt;/p&gt;
&lt;p&gt;O konfigūravimas nėra paprastas, todėl iš karto įspėju, kad &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; pašto
klientas skirtas daugiau patyrusiems kompiuterių naudotojams.&lt;/p&gt;
&lt;div class="section" id="slaptazodziai"&gt;
&lt;h2&gt;Slaptažodžiai&lt;/h2&gt;
&lt;p&gt;Pirmiausia saugumas, rekomenduoju įsidiegti &lt;a class="reference external" href="http://www.keepassx.org/"&gt;KeepPassX&lt;/a&gt; programą ir jos
pagalba susigeneruoti ilgą ir sudėtingą Gmail ar kito pašto serverio
slaptažodį, kadangi jis bus naudojamas konfigūraciniuose failuose.&lt;/p&gt;
&lt;p&gt;Šiam žingsniui reikės įsidiegti šiuos paketus:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo apt-get install python-keyring&lt;/pre&gt;
&lt;p&gt;Toliau pasirašiau nedidelį skriptą, kuris išsaugo arba nuskaito slaptažodį
iš slaptažodžių raktinės. Skripto kodas:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/bin/keyring"&gt;https://bitbucket.org/sirex/home/src/default/bin/keyring&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="laisku-katalogo-sifravimas"&gt;
&lt;h2&gt;Laiškų katalogo šifravimas&lt;/h2&gt;
&lt;p&gt;Kadangi laiškai bus atsiųsti ir išsaugoti jūsų kompiuteryje, reikėtų juos
saugoti užšifruotame kataloge, kad niekas be jūsų negalėtų jų perskaityti.
Žinoma tai nėra privaloma, tačiau dažnai el.  paštu atsiunčiami
slaptažodžiai ir kita asmeninė informacija, todėl jei paštą tikrinate darbo
kompiuteryje, laiškų šifravimas tikrai rekomenduojamas.&lt;/p&gt;
&lt;p&gt;Laiškų katalogo šifravimui pasirinkau &lt;a class="reference external" href="http://www.arg0.net/encfsintro"&gt;encfs&lt;/a&gt; program, ją galite įsidiegti
taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo apt-get install encfs&lt;/pre&gt;
&lt;p&gt;Toliau susikurkite užšifruotą katalogą taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;mkdir -p ~/.secure/mail ~/.mail
encfs -f ~/.secure/mail ~/.mail&lt;/pre&gt;
&lt;p&gt;Sukūrus užšifruotą katalogą, slaptažodį, kurį nurodėte, įveskite į raktinę,
taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;keyring encfs mail --set&lt;/pre&gt;
&lt;p&gt;Visi failai esantys &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;~/.mail&lt;/span&gt;&lt;/code&gt; kataloge bus užšifruoti, kad laiškus būtų
galima atsiūsti ir skaityti, paleiskite šią komandą:&lt;/p&gt;
&lt;pre class="literal-block"&gt;encfs --ondemand --idle=5 --extpass='keyring encfs mail' ~/.secure/mail ~/.mail&lt;/pre&gt;
&lt;p&gt;Ši komanda gali veikti kaip demonas, galite ją paleisti užsikrovus
kompiuteriui. Laiškų katalogas visą laiką bus užrakintas, nebent kas nors
bandys kreiptis į tą katalogą, kai tai atsitiks, &lt;code class="docutils literal"&gt;encfs&lt;/code&gt; kreipsis į
raktinę slaptažodžio, gavus slaptažodį, automatiškai, penkioms minutėms
atrakins laiškų katalogą, o po penkių minučių vėl užrakins.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="laisku-sinchronizavimas"&gt;
&lt;h2&gt;Laiškų sinchronizavimas&lt;/h2&gt;
&lt;p&gt;Laiškų sinchronizavimui pasirinkau &lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt; programą. Jai sukonfigūruoti
reikia dviejų konfigūracijos failų:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.offlineimaprc"&gt;https://bitbucket.org/sirex/home/src/default/.offlineimaprc&lt;/a&gt;
&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.offlineimap.py"&gt;https://bitbucket.org/sirex/home/src/default/.offlineimap.py&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Nepamirškite į raktinę įkelti jūsų el. pašto slaptažodžio:&lt;/p&gt;
&lt;pre class="literal-block"&gt;keyring gmail vardenis.pavardenis@gmail.com --set&lt;/pre&gt;
&lt;p&gt;O taip pat įdiegti &lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo apt-get install offlineimap&lt;/pre&gt;
&lt;p&gt;Tokia &lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt; konfigūracija, atsiūs laiškus, kas penkias minutes,
išsaugos juos užšifruotame &lt;code class="docutils literal"&gt;~/mail&lt;/code&gt; kataloge, &lt;a class="reference external" href="http://cr.yp.to/proto/maildir.html"&gt;Maildir&lt;/a&gt; formatu.
Kreipiantis į Gmail serverį, slaptažodį ims iš raktinės.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt; leidžia filtruoti ir pervadinti atsiunčiamus katalogus, jūsų
atveju, katalogai gali būti pavadinti kitaip, todėl gal tekti pasitaisyti
&lt;code class="docutils literal"&gt;nametrans&lt;/code&gt; ir &lt;code class="docutils literal"&gt;folderfilter&lt;/code&gt; funkcijas &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;~/.offlineimap.py&lt;/span&gt;&lt;/code&gt; faile.&lt;/p&gt;
&lt;p&gt;Patikrinti, ar katalogų filtravimas ir pervadinimas gerai veikia, galite
naudoti tokią komandą:&lt;/p&gt;
&lt;pre class="literal-block"&gt;offlineimap --info&lt;/pre&gt;
&lt;p&gt;Beje, &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--info&lt;/span&gt;&lt;/code&gt; argumentas atsirado vėlesnėje &lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt; versijoje, nei
yra pateikiama kartu su Ubuntu 12.04, todėl norint įvykdyti šią komandą,
jums reikės atsiųsti ir pasileisti naujesnę versiją, taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;git clone git://github.com/spaetz/offlineimap.git
cd offlineimap
git checkout v6.5.4
./offlineimap.py --info&lt;/pre&gt;
&lt;p&gt;Pirmą kartą atsiunčiant laiškus, rekomenduoju paleisti &lt;a class="reference external" href="http://offlineimap.org/"&gt;offlineimap&lt;/a&gt; grafiniu
režimu:&lt;/p&gt;
&lt;pre class="literal-block"&gt;offlineimap&lt;/pre&gt;
&lt;p&gt;Jei turite daug laiškų, pirmas sinchronizavimas gali užtrukti ilgai, man, su
30 000 laiškų užtruko apie dvi valandas.&lt;/p&gt;
&lt;p&gt;O nuolatiniam laiškų atsiuntimui, foniniu režimu:&lt;/p&gt;
&lt;pre class="literal-block"&gt;offlineimap -u quiet&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="laisku-indeksavimo-variklis"&gt;
&lt;h2&gt;Laiškų indeksavimo variklis&lt;/h2&gt;
&lt;p&gt;Greitai laiškų paieškai pasirinkau &lt;a class="reference external" href="http://notmuchmail.org/"&gt;notmuch&lt;/a&gt; laiškų indeksavimo variklį.
Kito pasirinkimo ir nebuvo, kadangi nuo šio variklio tiesiogiai yra
priklausomas &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; el. pašto klientas.&lt;/p&gt;
&lt;p&gt;Mano konfigūracijos failas atrodo taip &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;~/.notmuch-config&lt;/span&gt;&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.notmuch-config"&gt;https://bitbucket.org/sirex/home/src/default/.notmuch-config&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tokį konfigūracijos failą, galite susigeneruoti &lt;a class="reference external" href="http://notmuchmail.org/"&gt;notmuch&lt;/a&gt; vedlio
pagalba:&lt;/p&gt;
&lt;pre class="literal-block"&gt;notmuch setup&lt;/pre&gt;
&lt;p&gt;Laiškų indeksas atnaujinamas tokios komandos pagalba:&lt;/p&gt;
&lt;pre class="literal-block"&gt;notmuch new&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="adresu-knygute"&gt;
&lt;h2&gt;Adresų knygutė&lt;/h2&gt;
&lt;p&gt;Dar vienas reikalingas dalykas, adresų knygutė, tam pasirinkau &lt;a class="reference external" href="http://abook.sourceforge.net/"&gt;abook&lt;/a&gt;,
kadangi su šia adresų knygute puikiai suderinamas &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; el. pašto klientas.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="laisku-issiuntimas"&gt;
&lt;h2&gt;Laiškų išsiuntimas&lt;/h2&gt;
&lt;p&gt;Kadangi &lt;a class="reference external" href="http://www.postfix.org/"&gt;postfix&lt;/a&gt; yra labai sudėtingas, o &lt;a class="reference external" href="https://wiki.archlinux.org/index.php/SSMTP"&gt;ssmtp&lt;/a&gt; reikalauja saugoti
slaptažodžius atviru tekstu konfigūraciniame faile, tai &lt;a class="reference external" href="http://www.python.org/"&gt;Python&lt;/a&gt; pagalba
pasirašiau savo laiškų išsiuntimo skriptą:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/bin/sendgmail"&gt;https://bitbucket.org/sirex/home/src/default/bin/sendgmail&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Šis skriptas slaptažodį ima iš raktinės, taip pat, kaip ir raktinės skriptas:&lt;/p&gt;
&lt;pre class="literal-block"&gt;keyring gmail vardenis.pavardenis@gmail.com&lt;/pre&gt;
&lt;p&gt;Beje, rekomenduoju išbandyti ir &lt;a class="reference external" href="http://msmtp.sourceforge.net/"&gt;msmtp&lt;/a&gt; MUA, kuris atrodo daro lygiai tą patį ir
tikriausiai geriau.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="el-pasto-klientas"&gt;
&lt;h2&gt;El. pašto klientas&lt;/h2&gt;
&lt;p&gt;Galiausiai viskas susijungia į vieną vietą &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; programos pagalba.&lt;/p&gt;
&lt;p&gt;Mano konfigūracijos failas atrodo taip:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.config/alot/config"&gt;https://bitbucket.org/sirex/home/src/default/.config/alot/config&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Rekomenduoju &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; paleidinėti tokiu būdu:&lt;/p&gt;
&lt;pre class="literal-block"&gt;notmuch new &amp;amp;&amp;amp; alot&lt;/pre&gt;
&lt;p&gt;Taip, automatiškai bus atnaujinamas indeksas ir tik tada pasileis el. pašto
klientas. Nebūtina &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; laikyti nuolat atidarytą, kadangi jis atsidaro labai
greitai, nepriklausomai nuo laiškų kiekio.&lt;/p&gt;
&lt;p&gt;Mano konfigūraciniame faile f5 klavišas aprašytas taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;f5 = shellescape --refocus=true 'notmuch new' ; refresh&lt;/pre&gt;
&lt;p&gt;Tai, reiškia, kad paspaudus f5, bus atnaujintas laiškų indeksas ir atnaujintas
laiškų sąrašas &lt;a class="reference external" href="https://github.com/pazz/alot"&gt;alot&lt;/a&gt; el. pašto kliente.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="demonai"&gt;
&lt;h2&gt;Demonai&lt;/h2&gt;
&lt;p&gt;Viskam, kas čia aprašyta, reikalingi du demonai, vienas laiškų katalogo
dešifravimui, kitas laiškų sinchronizavimui.&lt;/p&gt;
&lt;p&gt;Rekomenduoju naudoti &lt;a class="reference external" href="http://supervisord.org/"&gt;supervisord&lt;/a&gt; demonų valdytoją, kuris puikiai moka
tvarkytis su demonais, gali juos paleisti iš naujo, jei jie išsijungia dėl
klaidos, galima stebėti demonų būklę, juos perkrauti ir t.t.&lt;/p&gt;
&lt;p&gt;Supervisord įdiegsite taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo apt-get install supervisor&lt;/pre&gt;
&lt;p&gt;Kadangi naudosime lokalų &lt;a class="reference external" href="http://supervisord.org/"&gt;supervisord&lt;/a&gt;, tai jei neplanuojate naudoti sisteminio,
galite jį išjungti taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;sudo update-rc.d -f supervisor disable&lt;/pre&gt;
&lt;p&gt;&lt;a class="reference external" href="http://supervisord.org/"&gt;Supervisord&lt;/a&gt; veikimui, reikia sukurti šį katalogą:&lt;/p&gt;
&lt;pre class="literal-block"&gt;mkdir -p ~/.supervisor/logs&lt;/pre&gt;
&lt;p&gt;Taip pat reikia tokių konfigūracinių failų:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.supervisor/supervisord.conf"&gt;https://bitbucket.org/sirex/home/src/default/.supervisor/supervisord.conf&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/.config/autostart/supervisord.desktop"&gt;https://bitbucket.org/sirex/home/src/default/.config/autostart/supervisord.desktop&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/bin/supervisor-bootstrap"&gt;https://bitbucket.org/sirex/home/src/default/bin/supervisor-bootstrap&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="https://bitbucket.org/sirex/home/src/default/bin/encfs-daemon"&gt;https://bitbucket.org/sirex/home/src/default/bin/encfs-daemon&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a class="reference external" href="http://supervisord.org/"&gt;Supervisord&lt;/a&gt; būklę galite stebėti taip:&lt;/p&gt;
&lt;pre class="literal-block"&gt;supervisorctl -c ~/.supervisor/supervisord.conf&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>alot</category><category>mail</category><category>software</category><guid>https://sirex.lt/posts/2013/alot/</guid><pubDate>Sun, 14 Apr 2013 12:36:00 GMT</pubDate></item></channel></rss>